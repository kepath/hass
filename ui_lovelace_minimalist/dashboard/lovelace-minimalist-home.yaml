---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"
card-mod-root-yaml: |
  .: |
    .header {
      display: none !important;
    }
card_mod:
  style:
    .: |
      .header {
        display: none !important;
      }

views:
  - title: "Main"
    icon: "mdi:cellphone-text"
    theme: "minimalist-mobile"

    cards:
      - type: "custom:layout-card"
        layout_type: "custom:masonry-layout"
        layout:
          margin: "0px"
          card_margin: "0px"
          layout_margin: "0px"
        cards:
          - type: "custom:layout-card"
            layout_type: "custom:masonry-layout"
            layout:
              margin: "0px 0px 8px 0px"
              card_margin: "0px"
              layout_margin: "0px"
            cards:
              - type: "custom:button-card"
                template: "card_kepath_welcome"
                triggers_update: "input_boolean.welcome_toggle"
                variables:
                  ulm_card_kepath_welcome_collapse: "input_boolean.welcome_toggle"
                  ulm_chip_temperature_inside: "sensor.nest_bottom_floor_temperature"
                  ulm_chip_temperature_outside: "sensor.banbury_feels_like_temperature"
                  ulm_chip_temperature_weather: "weather.met_office_banbury_daily"
                  entity_1:
                    nav: "/lovelace-minimalist-rooms"
                    icon: "mdi:floor-plan"
                    name: "Rooms"
                    color: "blue"
                  entity_2:
                    nav: "/lovelace-minimalist-devices"
                    icon: "mdi:devices"
                    name: "Device"
                    color: "green"
                  entity_3:
                    nav: "/lovelace-minimalist-network"
                    icon: "mdi:lan"
                    name: "Net"
                    color: "yellow"
                  entity_4:
                    nav: "/lovelace-minimalist-downloads"
                    icon: "mdi:download"
                    name: "Down"
                    color: "purple"
                  entity_5:
                    nav: "/lovelace-minimalist-security"
                    icon: "mdi:shield-home"
                    name: "Secure"
                    color: "red"
                  entity_6:
                    nav: "/lovelace-minimalist-media"
                    icon: "mdi:remote-tv"
                    name: "Media"
                    color: "green"
                  entity_7:
                    nav: "/lovelace-minimalist-climate"
                    icon: "mdi:home-thermometer"
                    name: "Temp"
                    color: "red"
                  entity_8:
                    nav: "/lovelace-minimalist-links"
                    icon: "mdi:link-variant"
                    name: "Links"
                    color: "blue"
                  entity_9:
                    nav: "/lovelace-minimalist-energy"
                    icon: "mdi:lightning-bolt"
                    name: "Energy"
                    color: "yellow"
                  entity_10:
                    nav: "/a0d7b954_grafana"
                    icon: "si:grafana"
                    name: "Data"
                    color: "purple"

          - type: "custom:layout-card"
            layout_type: "custom:masonry-layout"
            layout:
              margin: "0px"
              card_margin: "0px"
              layout_margin: "0px"
            cards:
              - type: "custom:button-card"
                styles:
                  grid:
                    - grid-template-areas: "'item1 item2 item3 item4 item5'"
                    - grid-template-columns: "1fr 1fr 1fr 1fr 1fr"
                    - grid-template-rows: "min-content"
                    - justify-items: "center"
                  card:
                    - margin-bottom: "0px"
                    - padding: "0"
                    - overflow: "visible"
                    - border-bottom-left-radius: "0px"
                    - border-bottom-right-radius: "0px"
                    - background-color: >
                        [[[
                          var BGColor = "rgba(var(--color-theme),0.05)";
                          if(hass.themes.darkMode) {
                            BGColor = "rgba(var(--color-theme),0.1)";
                          }
                          return BGColor;
                        ]]]
                  custom_fields:
                    item1: &widget_icon_binary_sensor_tab_header_styling
                      - border-radius: "none"
                      - box-shadow: "none"
                      - padding: "4px"
                      - cursor: "default"
                    item2: *widget_icon_binary_sensor_tab_header_styling
                    item3: *widget_icon_binary_sensor_tab_header_styling
                    item4: *widget_icon_binary_sensor_tab_header_styling
                    item5: *widget_icon_binary_sensor_tab_header_styling
                custom_fields:
                  item1:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_notifications_common_styles"
                        - "custom_card_kepath_binary_notifications_tab_style"
                        - "device_kepath_entity_common_binary_objects_and_styles"
                        - "device_kepath_entity_and_style_binary_simple_switch_state"
                        - "custom_card_kepath_generic_group_popup"
                        - "custom_card_kepath_generic_tab_selectors"
                      entity: "input_boolean.minimalist_ui_binary_action_sensors"
                      variables:
                        var_kepath_generic_get_set_group_notification_objects:
                          unavailable:
                            attribute_name: "tab_action_sensors_unavailable_count"
                            count_tooltip: "sum of away notification sensors"
                          amount:
                            attribute_name: "tab_action_sensors_triggered_count"
                            count_tooltip: "sum of on notification sensors"
                        var_kepath_generic_group_popup:
                          evaluated_entity: "group.all_lights"
                          action: "popup"
                          popup:
                            title: "light entities ↓ state"
                            auto_entities:
                              exclude_unavailable_state: true
                        var_kepath_constant_position_overrides:
                          is_compact_mode: "[[[ return hass.themes.darkMode ? false : true ]]]"
                          off_state_only: true
                        var_kepath_generic_button_icon_styles:
                          use_themes: false
                          default_state:
                            icon: "mdi:tune-vertical"
                            icon_color: "rgba(var(--color-theme),0.4)"
                            background_color: "rgba(var(--color-theme),0.05)"
                          error_state:
                            icon: "mdi:dock-window"
                            icon_color: "rgba(var(--color-red),0.5)"
                            background_color: "rgba(var(--color-red),0.1)"
                        var_kepath_device_entity_and_style_simple_binary_switch_state:
                          on_state:
                            icon: "mdi:tune-vertical"
                            icon_color: "blue"
                            background_color: "blue"
                  item2:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_notifications_common_styles"
                        - "custom_card_kepath_binary_notifications_tab_style"
                        - "device_kepath_entity_common_binary_objects_and_styles"
                        - "device_kepath_entity_and_style_binary_simple_switch_state"
                        - "custom_card_kepath_generic_group_popup"
                        - "custom_card_kepath_generic_tab_selectors"
                      entity: "input_boolean.minimalist_ui_binary_alert_sensors"
                      variables:
                        var_kepath_generic_get_set_group_notification_objects:
                          unavailable:
                            attribute_name: "tab_alert_sensors_unavailable_count"
                            count_tooltip: "sum of away alert sensors"
                          amount:
                            attribute_name: "tab_alert_sensors_triggered_count"
                            count_tooltip: "sum of on alert sensors"

                        var_kepath_generic_group_popup:
                          evaluated_entity: "group.all_safety_class_binary_sensors"
                          action: "popup"
                          popup:
                            title: "safety entities ↓ last changed"
                            auto_entities:
                              sort_method: "last_changed"
                        var_kepath_constant_position_overrides:
                          is_compact_mode: "[[[ return hass.themes.darkMode ? false : true ]]]"
                          off_state_only: true
                        var_kepath_generic_button_icon_styles:
                          use_themes: false
                          default_state:
                            icon: "mdi:bell-ring-outline"
                            icon_color: "rgba(var(--color-theme),0.4)"
                            background_color: "rgba(var(--color-theme),0.05)"
                          error_state:
                            icon: "mdi:dock-window"
                            icon_color: "rgba(var(--color-red),0.5)"
                            background_color: "rgba(var(--color-red),0.1)"
                        var_kepath_device_entity_and_style_simple_binary_switch_state:
                          on_state:
                            icon: "mdi:bell-ring"
                            icon_color: "red"
                            background_color: "red"
                  item3:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_notifications_common_styles"
                        - "custom_card_kepath_binary_notifications_tab_style"
                        - "device_kepath_entity_common_binary_objects_and_styles"
                        - "device_kepath_entity_and_style_binary_simple_switch_state"
                        - "custom_card_kepath_generic_group_popup"
                        - "custom_card_kepath_generic_tab_selectors"
                      entity: "input_boolean.minimalist_ui_binary_information_sensors"
                      variables:
                        var_kepath_generic_get_set_group_notification_objects:
                          unavailable:
                            attribute_name: "tab_information_sensors_unavailable_count"
                            count_tooltip: "sum of away info sensors"
                          amount:
                            attribute_name: "tab_information_sensors_triggered_count"
                            count_tooltip: "sum of on info sensors"

                        var_kepath_generic_group_popup:
                          evaluated_entity: "group.all_occupancy_class_binary_sensors"
                          action: "popup"
                          popup:
                            title: "all occupancy entities ↓ last changed"
                            auto_entities:
                              sort_method: "last_changed"
                        var_kepath_constant_position_overrides:
                          is_compact_mode: "[[[ return hass.themes.darkMode ? false : true ]]]"
                          off_state_only: true
                        var_kepath_generic_button_icon_styles:
                          use_themes: false
                          default_state:
                            icon: "mdi:information-slab-circle-outline"
                            icon_color: "rgba(var(--color-theme),0.4)"
                            background_color: "rgba(var(--color-theme),0.05)"
                          error_state:
                            icon: "mdi:dock-window"
                            icon_color: "rgba(var(--color-red),0.5)"
                            background_color: "rgba(var(--color-red),0.1)"
                        var_kepath_device_entity_and_style_simple_binary_switch_state:
                          on_state:
                            icon: "mdi:information-slab-circle"
                            icon_color: "yellow"
                            background_color: "yellow"
                  item4:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_notifications_common_styles"
                        - "custom_card_kepath_binary_notifications_tab_style"
                        - "device_kepath_entity_common_binary_objects_and_styles"
                        - "device_kepath_entity_and_style_binary_simple_switch_state"
                        - "custom_card_kepath_generic_group_popup"
                        - "custom_card_kepath_generic_tab_selectors"
                      entity: "input_boolean.minimalist_ui_binary_diagnostic_sensors"
                      variables:
                        var_kepath_generic_get_set_group_notification_objects:
                          unavailable:
                            attribute_name: "tab_diagnostic_sensors_unavailable_count"
                            count_tooltip: "sum of away diag sensors"
                          amount:
                            attribute_name: "tab_diagnostic_sensors_triggered_count"
                            count_tooltip: "sum of on diag sensors"

                        var_kepath_generic_group_popup:
                          evaluated_entity: "group.all_measured_data_rate_class_sensors"
                          action: "popup"
                          popup:
                            title: "selected data entities ↓ state"
                            auto_entities:
                              sort_method: "state"
                              sort_numeric: true
                              exclude_unknown_state: true
                        var_kepath_constant_position_overrides:
                          is_compact_mode: "[[[ return hass.themes.darkMode ? false : true ]]]"
                          off_state_only: true
                        var_kepath_generic_button_icon_styles:
                          use_themes: false
                          default_state:
                            icon: "mdi:wrench-outline"
                            icon_color: "rgba(var(--color-theme),0.4)"
                            background_color: "rgba(var(--color-theme),0.05)"
                          error_state:
                            icon: "mdi:dock-window"
                            icon_color: "rgba(var(--color-red),0.5)"
                            background_color: "rgba(var(--color-red),0.1)"
                        var_kepath_device_entity_and_style_simple_binary_switch_state:
                          on_state:
                            icon: "mdi:wrench"
                            icon_color: "green"
                            background_color: "green"
                  item5:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_notifications_common_styles"
                        - "custom_card_kepath_binary_notifications_tab_style"
                        - "device_kepath_entity_common_binary_objects_and_styles"
                        - "device_kepath_entity_and_style_binary_simple_switch_state"
                        - "custom_card_kepath_generic_tab_selectors"
                      entity: "input_boolean.minimalist_ui_binary_update_sensors"
                      variables:
                        var_kepath_generic_get_set_group_notification_objects:
                          unavailable:
                            attribute_name: "tab_update_sensors_unavailable_count"
                            count_tooltip: "sum of away update sensors"
                          amount:
                            attribute_name: "tab_update_sensors_triggered_count"
                            count_tooltip: "sum of on update sensors"
                        var_kepath_constant_position_overrides:
                          is_compact_mode: "[[[ return hass.themes.darkMode ? false : true ]]]"
                          off_state_only: true
                        var_kepath_generic_button_icon_styles:
                          use_themes: false
                          default_state:
                            icon: "mdi:store-plus-outline"
                            icon_color: "rgba(var(--color-theme),0.4)"
                            background_color: "rgba(var(--color-theme),0.05)"
                          error_state:
                            icon: "mdi:dock-window"
                            icon_color: "rgba(var(--color-red),0.5)"
                            background_color: "rgba(var(--color-red),0.1)"
                        var_kepath_device_entity_and_style_simple_binary_switch_state:
                          on_state:
                            icon: "mdi:store-plus"
                            icon_color: "pink"
                            background_color: "pink"
                      hold_action:
                        action: "navigate"
                        navigation_path: "/config/updates"
          - type: "custom:layout-card"
            layout_type: "custom:masonry-layout"
            layout:
              margin: "0px"
              card_margin: "0px"
              layout_margin: "0px"
            cards:
              - type: "conditional"
                conditions:
                  - entity: "input_boolean.minimalist_ui_binary_action_sensors"
                    state: "on"
                card:
                  type: "custom:button-card"
                  styles:
                    grid:
                      - grid-template-areas: >
                          'item1 item2 item3 item4 item5'
                          'item6 item7 item8 item9 item10'
                          'item11 item12 item13 item14 item15'
                      - grid-template-columns: "1fr 1fr 1fr 1fr 1fr"
                      - grid-template-rows: "min-content"
                      - justify-items: "center"
                    card:
                      - padding: "10px"
                      - overflow: "visible"
                      - border-top-left-radius: "0px"
                      - border-top-right-radius: "0px"
                      - background-color: ""
                    custom_fields:
                      item1: &widget_icon_binary_sensor_custom_styling
                        - border-radius: "none"
                        - box-shadow: "none"
                        - padding: "4px"
                        - cursor: "default"
                      item2: *widget_icon_binary_sensor_custom_styling
                      item3: *widget_icon_binary_sensor_custom_styling
                      item4: *widget_icon_binary_sensor_custom_styling
                      item5: *widget_icon_binary_sensor_custom_styling
                      item6: *widget_icon_binary_sensor_custom_styling
                      item7: *widget_icon_binary_sensor_custom_styling
                      item8: *widget_icon_binary_sensor_custom_styling
                      item9: *widget_icon_binary_sensor_custom_styling
                      item10: *widget_icon_binary_sensor_custom_styling
                      item11: *widget_icon_binary_sensor_custom_styling
                      item12: *widget_icon_binary_sensor_custom_styling
                      item13: *widget_icon_binary_sensor_custom_styling
                      item14: *widget_icon_binary_sensor_custom_styling
                      item15: *widget_icon_binary_sensor_custom_styling
                  custom_fields:
                    item1:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_lights"
                        name: "Lights"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              attribute_name: "lights_on_count"
                              count_tooltip: "num lights on"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:lightbulb-multiple-off-outline"
                              icon_color: "grey"
                              background_color: "grey"
                            error_state:
                              icon: "mdi:lightbulb-group-off-outline"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:lightbulb-multiple"
                              icon_color: "yellow"
                              background_color: "yellow"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "light entities ↓ state"
                              auto_entities:
                                exclude_unavailable_state: true
                        hold_action:
                          action: "more-info"
                    item2:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_outlet_class_switch"
                        name: "Plugs"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              attribute_name: "plugs_off_count"
                              count_tooltip: "num plugs off"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:power-plug-off"
                              icon_color: "grey"
                              background_color: "grey"
                            error_state:
                              icon: "mdi:power-plug-off-outline"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:power-plug"
                              icon_color: "blue"
                              background_color: "blue"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "plug entities ↑ state"
                              auto_entities:
                                sort_reversed: true
                        hold_action:
                          action: "more-info"
                    item3:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_fans"
                        name: "Fans"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "fans_unavailable_count"
                              count_tooltip: "num fans away"
                            amount:
                              attribute_name: "fans_on_count"
                              count_tooltip: "num fans on"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:fan-off"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:fan-alert"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:fan"
                              icon_color: "green"
                              background_color: "green"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "fan entities ↓ state"
                        hold_action:
                          action: "more-info"

                    item4:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_climate"
                        name: "Heating"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              attribute_name: "climate_devices_on_count"
                              count_tooltip: "num climate devices on"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:thermometer-low"
                              icon_color: "grey"
                              background_color: "grey"
                            error_state:
                              icon: "mdi:thermometer-alert"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "climate_devices_on_count"
                            style:
                              icon: "mdi:thermometer-high"
                              icon_color: "red"
                              background_color: "red"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "climate entities ↑ state"
                              auto_entities:
                                sort_reversed: true
                        hold_action:
                          action: "more-info"
                    item5:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_navigate_action"
                          # - "card_room_mower_state"
                        entity: "lawn_mower.moe"
                        name: "Mower"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "lawn_mower_error_count"
                              count_tooltip: "num mowers with error"
                            amount:
                              attribute_name: "lawn_mower_busy_count"
                              count_tooltip: "num mowers active"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:robot-mower"
                              icon_color: "red"
                              background_color: "red"
                            error_state:
                              icon: "mdi:robot-mower-outline"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/f6aa7f03c61ef3c5ce1edb4277d23148"
                          # navigation_path: >
                          #   "{{'/config/devices/device/' + device_id('lawn_mower.moe')}}"
                        hold_action:
                          action: "more-info"
                    item6:
                      card:
                        type: "custom:button-card"
                        template:
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_washing_machine_state"
                        entity: "input_boolean.washing_machine_detected_state"
                        name: "Washer"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:washing-machine-off"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:washing-machine-alert"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/952c87755c2c0da9627644b62b5fa2c7"
                        hold_action:
                          action: "more-info"
                    item7:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_tumble_dryer_state"
                        entity: "sensor.samsung_tumble_dryer_dryer_machine_state"
                        name: "Dryer"
                        variables:
                          var_device_kepath_entity_and_style_tumble_dryer_state:
                            device_progress: "sensor.samsung_tumble_dryer_dryer_completion_time"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:tumble-dryer-off"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:tumble-dryer-alert"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/248a57d4d33903ec84b8022b8d465f88"
                        hold_action:
                          action: "more-info"
                    item8:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_dishwasher_state"
                        entity: "sensor.dishwasher_operation_state"
                        name: "Dishwasher"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:dishwasher-off"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:dishwasher-alert"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/bb485d5d222b2f3d78e640bbd1e2ac6b"
                        hold_action:
                          action: "more-info"
                    item9:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                        entity: "switch.drinks_fridge_plug_bed_c"
                        name: "Mini Fridge"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:fridge-industrial-off"
                              icon_color: "red"
                              background_color: "red"
                            error_state:
                              icon: "mdi:fridge-industrial-alert"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:fridge-industrial"
                              icon_color: "green"
                              background_color: "green"
                        tap_action:
                          action: "toggle"
                        hold_action:
                          action: "more-info"
                    item10:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                        entity: "binary_sensor.yamaha_reciever_state"
                        name: "Yamaha"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:audio-video"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:audio-video-off"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:audio-video"
                              icon_color: "green"
                              background_color: "green"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/f2efb18594267a3671604e3457b13c2e"
                        hold_action:
                          action: "more-info"
                    item11:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                        entity: "binary_sensor.is_arcade_pc_on"
                        name: "Arcade"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:controller-off"
                              icon_color: "red"
                              background_color: "red"
                            error_state:
                              icon: "mdi:controller-off"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:controller"
                              icon_color: "green"
                              background_color: "green"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/19a23f4948601ca818e597bbee0b74dd"
                        hold_action:
                          action: "more-info"
                    item12:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                        entity: "binary_sensor.is_big_pc_on"
                        name: "BigPC"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:desktop-tower"
                              icon_color: "red"
                              background_color: "red"
                            error_state:
                              icon: "mdi:desktop-tower"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:desktop-tower"
                              icon_color: "green"
                              background_color: "green"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/b3340dea79cbcdb7367587e052835769"
                        hold_action:
                          action: "more-info"
                    item13:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_printer_state"
                        entity: "sensor.mfc_j870dw_status"
                        name: "Printer"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:printer"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:printer-alert"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/4ea9393d18c94c2fa038251f45d71858"
                        hold_action:
                          action: "more-info"
                    item14:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_nas_state"
                        entity: "sensor.diskstation_volume_1_status"
                        name: "NAS"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "integration_synology_dsm_unavailable_count"
                              count_tooltip: "DSM entities away"
                            amount:
                              attribute_name: "zero_value"
                              count_tooltip: "not set"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:database-cog"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:database-alert-outline"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/59f488dc105211eb978c4d56fd4be963"
                        hold_action:
                          action: "more-info"
                    item15:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_ups_state"
                        entity: "sensor.ups_status"
                        name: "UPS"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:battery-alert"
                              icon_color: "red"
                              background_color: "red"
                            error_state:
                              icon: "mdi:power-plug-battery-outline"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/0579ddfc72a49d4e19eafecce2e364a6"
                        hold_action:
                          action: "more-info"
              - type: "conditional"
                conditions:
                  - entity: "input_boolean.minimalist_ui_binary_alert_sensors"
                    state: "on"
                card:
                  type: "custom:button-card"
                  card_mod:
                    style:
                      surveillance-card $: |
                        .container {
                          position: relative !important;
                        }
                        .container .thumbs {
                          overflow-y: clip !important;
                        }
                        .container .thumbs .thumb {
                          padding: 0px !important;
                        }
                        .container .thumbs .thumb img {
                          border-color: var(--primary-background-color) !important;
                          border-radius: 6px !important;
                        }
                        .container .thumbs .thumb.motion img {
                          border-color: rgba(var(--color-red),1) !important;
                        }
                        .container .mainImage img {
                          border-radius: 10px !important;
                        }
                  styles:
                    grid:
                      - grid-template-areas: >
                          'item1 item2 item3 item4 item5'
                          'cameras1 cameras1 cameras1 cameras1 cameras1'
                      - grid-template-columns: "1fr 1fr 1fr 1fr 1fr"
                      - grid-template-rows: "min-content"
                      - justify-items: "center"
                    card:
                      - padding: "10px"
                      - overflow: "visible"
                      - border-top-left-radius: "0px"
                      - border-top-right-radius: "0px"
                      - background-color: ""
                    custom_fields:
                      item1: *widget_icon_binary_sensor_custom_styling
                      item2: *widget_icon_binary_sensor_custom_styling
                      item3: *widget_icon_binary_sensor_custom_styling
                      item4: *widget_icon_binary_sensor_custom_styling
                      item5: *widget_icon_binary_sensor_custom_styling
                      item6: *widget_icon_binary_sensor_custom_styling
                      item7: *widget_icon_binary_sensor_custom_styling
                      item8: *widget_icon_binary_sensor_custom_styling
                      item9: *widget_icon_binary_sensor_custom_styling
                      item10: *widget_icon_binary_sensor_custom_styling
                      cameras1:
                        - border-bottom-left-radius: "20px"
                        - border-bottom-right-radius: "20px"
                        - overflow: "hidden"
                        - height: "300px"

                  custom_fields:
                    item1:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_safety_class_binary_sensors"
                        name: "Alerts"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "safety_sensors_unavailable_count"
                              count_tooltip: "num safety sensors away"
                            amount:
                              attribute_name: "safety_sensors_triggered_count"
                              count_tooltip: "num safety sensors triggered"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:alarm-light-off"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:alarm-light-outline"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:alarm-light"
                              icon_color: "red"
                              background_color: "red"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "safety entities ↓ last changed"
                              auto_entities:
                                sort_method: "last_changed"
                        hold_action:
                          action: "more-info"
                    item2:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_lock_state"
                        entity: "lock.front_door_top_bolt"
                        icon: "mdi:lock"
                        name: "Lock"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "locks_unavailable_count"
                              count_tooltip: "num locks away"
                            amount:
                              attribute_name: "locks_unlocked_count"
                              count_tooltip: "num locks unlocked"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:lock-open-variant"
                              icon_color: "red"
                              background_color: "red"
                            error_state:
                              icon: "mdi:lock-alert-outline"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/devices/device/c433a6de7503fff598e3b00eebd934b8"
                        hold_action:
                          action: "more-info"

                    item3:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_cameras"
                        name: "Camera"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "cameras_unavailable_count"
                              count_tooltip: "num cameras away"
                            amount:
                              attribute_name: "cameras_off_count"
                              count_tooltip: "num cameras off"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:camera"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:camera-off-outline"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "camera entities ↑ name"
                              auto_entities:
                                sort_method: "name"
                                sort_reversed: true
                        hold_action:
                          action: "more-info"

                    item4:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_door_class_binary_sensors"
                        name: "Doors"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "door_sensors_unavailable_count"
                              count_tooltip: "num doors away"
                            amount:
                              attribute_name: "door_sensors_triggered_count"
                              count_tooltip: "num doors open"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:door"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:door-closed-cancel"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            # door is open
                            on_state:
                              icon: "mdi:door-open"
                              icon_color: "red"
                              background_color: "red"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "door entities ↓ last changed"
                              auto_entities:
                                sort_method: "last_changed"
                        hold_action:
                          action: "more-info"

                    item5:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_occupancy_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_away_occupancy_class_binary_sensors"
                        name: "Internal"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "occupancy_sensors_unavailable_away_count"
                              count_tooltip: "num occupancy sensors away"
                            amount:
                              attribute_name: "occupancy_sensors_triggered_away_count"
                              count_tooltip: "num occupancy sensors on"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "occupancy_sensors_triggered_away_count"
                            style:
                              icon: "mdi:motion-sensor-off"
                              icon_color: "green"
                              background_color: "green"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:motion-sensor-off"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:cctv-off"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "internal occupancy entities ↓ last changed"
                              auto_entities:
                                sort_method: "last_changed"
                        hold_action:
                          action: "more-info"
                    cameras1:
                      card:
                        type: "custom:surveillance-card"
                        thumb_interval: 15
                        update_interval: 5
                        recording_duration: 10
                        show_capture_buttons: false
                        focus_motion: false
                        thumb_position: "top"
                        cameras:
                          - entity: "camera.front_g3_flex_medium"
                            motion_entity: "binary_sensor.front_g3_flex_motion"
                            hold_action:
                              action: "more-info"
                          - entity: "camera.back_g3_flex_medium"
                            motion_entity: "binary_sensor.back_g3_flex_motion"
                          - entity: "camera.bottom_hallway_g3_instant_medium"
                            motion_entity: "binary_sensor.bottom_hallway_g3_instant_motion"
                          - entity: "camera.doorbell_g4_medium"
                            motion_entity: "binary_sensor.doorbell_g4_motion"
                          - entity: "camera.middle_hallway_g3_flex_medium"
                            motion_entity: "binary_sensor.middle_hallway_g3_flex_motion"
                          - entity: "camera.kitchen_g3_instant_medium"
                            motion_entity: "binary_sensor.kitchen_g3_instant_motion"
                        tap_action:
                          action: "more-info"

              - type: "conditional"
                conditions:
                  - entity: "input_boolean.minimalist_ui_binary_information_sensors"
                    state: "on"
                card:
                  type: "custom:button-card"
                  styles:
                    grid:
                      - grid-template-areas: >
                          'item1 item1 item1 item2 item2 item2 item3 item3 item3 item4 item4 item4 item5 item5 item5'
                          'floorplan1 floorplan1 floorplan1 floorplan1 floorplan1 floorplan2 floorplan2 floorplan2 floorplan2 floorplan2 floorplan3 floorplan3 floorplan3 floorplan3 floorplan3'
                      - grid-template-columns: "1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr"
                      - grid-template-rows: "min-content"
                      - justify-items: "center"
                    card:
                      - padding: "10px"
                      - overflow: "visible"
                      - border-top-left-radius: "0px"
                      - border-top-right-radius: "0px"
                      - background-color: ""
                    custom_fields:
                      item1: *widget_icon_binary_sensor_custom_styling
                      item2: *widget_icon_binary_sensor_custom_styling
                      item3: *widget_icon_binary_sensor_custom_styling
                      item4: *widget_icon_binary_sensor_custom_styling
                      item5: *widget_icon_binary_sensor_custom_styling
                      item6: *widget_icon_binary_sensor_custom_styling
                      item7: *widget_icon_binary_sensor_custom_styling
                      item8: *widget_icon_binary_sensor_custom_styling
                      item9: *widget_icon_binary_sensor_custom_styling
                      item10: *widget_icon_binary_sensor_custom_styling
                      floorplan1: &floorplan_styling
                        - border-radius: "none"
                        - box-shadow: "none"
                      floorplan2: *floorplan_styling
                      floorplan3: *floorplan_styling
                  custom_fields:
                    item1:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_occupancy_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_occupancy_class_binary_sensors"
                        name: "All Motion"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "occupancy_sensors_unavailable_count"
                              count_tooltip: "num occupancy sensors away"
                            amount:
                              attribute_name: "occupancy_sensors_triggered_count"
                              count_tooltip: "num occupancy sensors on"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:cctv"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:cctv-off"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "all occupancy entities ↓ last changed"
                              auto_entities:
                                sort_method: "last_changed"
                        hold_action:
                          action: "more-info"
                    item2:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                        entity: "binary_sensor.udmpro_disk_0_health"
                        name: "Protect"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "integration_unifiprotect_unavailable_count"
                              count_tooltip: "protect entities away"
                            amount:
                              attribute_name: "zero_value"
                              count_tooltip: "not set"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "phu:unifi-protect"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "phu:unifi-protect"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/integrations/integration/unifiprotect"
                        hold_action:
                          action: "more-info"
                    item3:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_remotes_and_tv_class_media_player"
                        name: "Video"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              attribute_name: "media_player_tv_and_remote_on_count"
                              count_tooltip: "num video players on"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:television"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:television-off"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:television-play"
                              icon_color: "green"
                              background_color: "green"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "tv entities ↓ name"
                              auto_entities:
                                sort_method: "name"
                                sort_reversed: true
                        hold_action:
                          action: "more-info"
                    item4:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_audio_class_media_player"
                        name: "Audio"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "media_player_audio_unavailable_count"
                              count_tooltip: "num audio players away"
                            amount:
                              attribute_name: "media_player_audio_on_count"
                              count_tooltip: "num audio players on"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:volume-low"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:volume-off"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:volume-high"
                              icon_color: "green"
                              background_color: "green"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "speaker entities ↓ last changed"
                              auto_entities:
                                sort_method: "last_changed"
                                exclude_unavailable_state: true
                        hold_action:
                          action: "more-info"
                    item5:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                        entity: "sensor.docker_addon_d5369777_music_assistant_state"
                        name: "MASS"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "integration_mass_unavailable_count"
                              count_tooltip: "MASS entities away"
                            amount:
                              attribute_name: "zero_value"
                              count_tooltip: "not set"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:playlist-music"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:playlist-music"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/integrations/integration/mass"
                        hold_action:
                          action: "more-info"

                    floorplan1:
                      card: !include "floorplan_pictures/floor-ground.yaml"
                    floorplan2:
                      card: !include "floorplan_pictures/floor-first.yaml"
                    floorplan3:
                      card: !include "floorplan_pictures/floor-second.yaml"
              - type: "conditional"
                conditions:
                  - entity: "input_boolean.minimalist_ui_binary_diagnostic_sensors"
                    state: "on"
                card:
                  type: "custom:button-card"
                  styles:
                    grid:
                      - grid-template-areas: "'item1 item2 item3 item4 item5' 'item6 item7 item8 item9 item10' 'item11 item12 item13 item14 item15'"
                      - grid-template-columns: "1fr 1fr 1fr 1fr 1fr"
                      - grid-template-rows: "min-content"
                      - justify-items: "center"
                    card:
                      - padding: "10px"
                      - overflow: "visible"
                      - border-top-left-radius: "0px"
                      - border-top-right-radius: "0px"
                      - background-color: ""
                    custom_fields:
                      item1: *widget_icon_binary_sensor_custom_styling
                      item2: *widget_icon_binary_sensor_custom_styling
                      item3: *widget_icon_binary_sensor_custom_styling
                      item4: *widget_icon_binary_sensor_custom_styling
                      item5: *widget_icon_binary_sensor_custom_styling
                      item6: *widget_icon_binary_sensor_custom_styling
                      item7: *widget_icon_binary_sensor_custom_styling
                      item8: *widget_icon_binary_sensor_custom_styling
                      item9: *widget_icon_binary_sensor_custom_styling
                      item10: *widget_icon_binary_sensor_custom_styling
                      item11: *widget_icon_binary_sensor_custom_styling
                      item12: *widget_icon_binary_sensor_custom_styling
                      item13: *widget_icon_binary_sensor_custom_styling
                      item14: *widget_icon_binary_sensor_custom_styling
                      item15: *widget_icon_binary_sensor_custom_styling
                  custom_fields:
                    item1:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_device_trackers"
                        name: "Device"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "device_trackers_unavailable_count"
                              count_tooltip: "device trackers away"
                            amount:
                              attribute_name: "device_trackers_away_count"
                              count_tooltip: "device trackers not home"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:devices"
                              icon_color: "grey"
                              background_color: "grey"
                            error_state:
                              icon: "mdi:cellphone-link-off"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "device_trackers_unavailable_count"
                            style:
                              icon: "mdi:devices"
                              icon_color: "blue"
                              background_color: "blue"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "device tracker entities ↓ last changed"
                              auto_entities:
                                sort_method: "last_changed"
                        hold_action:
                          action: "more-info"
                    item2:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_connectivity_class_binary_sensors"
                        name: "Connect"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "connectivity_unavailable_count"
                              count_tooltip: "num devices away"
                            amount:
                              attribute_name: "connectivity_disconnected_count"
                              count_tooltip: "num devices not home"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:lan"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:lan-disconnect"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "connectivity_disconnected_count"
                            style:
                              icon: "mdi:lan-pending"
                              icon_color: "blue"
                              background_color: "blue"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "connectivity entities ↓ last changed"
                              auto_entities:
                                sort_method: "last_changed"
                        hold_action:
                          action: "more-info"
                    item3:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_running_class_binary_sensors"
                        name: "Running"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "running_unavailable_count"
                              count_tooltip: "num containers away"
                            amount:
                              attribute_name: "running_stopped_count"
                              count_tooltip: "num containers stopped"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:lan"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:lan-disconnect"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_entity: "group.all_running_class_binary_sensors"
                            style:
                              icon: "mdi:server-off"
                              icon_color: "red"
                              background_color: "red"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "running entities ↓ state"
                        hold_action:
                          action: "more-info"
                    item4:
                      card:
                        type: "custom:button-card"
                        template:
                          # - "custom_card_kepath_binary_notifications_common_styles"
                          # - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_power_class_binary_sensors"
                        name: "Power"
                        variables:
                          # var_kepath_generic_get_set_group_notification_objects:
                          #   unavailable:
                          #     attribute_name: "zero_value"
                          #     count_tooltip: "not set"
                          #   amount:
                          #     attribute_name: "zero_value"
                          #     count_tooltip: "not set"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:home-lightning-bolt"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:home-alert"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "power entities № state"
                              auto_entities:
                                sort_method: "state"
                                sort_numeric: true
                                exclude_unknown_state: true
                                exclude_unavailable_state: true
                        hold_action:
                          action: "more-info"
                    item5:
                      card:
                        type: "custom:button-card"
                        template:
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "card_notification_script_trigger"
                        entity: "input_boolean.away_script_active"
                        icon: "mdi:home-lock-open"
                        name: "Passive"
                        variables:
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:lock-open-variant"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:lock-alert"
                          script_activate:
                            icon:
                              mdi: "mdi:home-lock"
                              color: "red"
                            name: "Active"
                            script:
                              name: "script.lockdown_mode_on"
                              confirmation_text: "This will ACTIVATE lockdown mode. Are you sure you want to proceed?"
                          script_deactivate:
                            script:
                              name: "script.lockdown_mode_off"
                              confirmation_text: "This will return to home mode. Are you sure you want to proceed?"
                    item6:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_data_rate_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_measured_data_rate_class_sensors"
                        name: "Data"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              attribute_name: "data_rate_total_average_10_times_larger"
                              count_tooltip: "average network data rate (100's kb/s)"
                            unavailable:
                              attribute_name: "data_rate_unavailable_count"
                              count_tooltip: "num data rate sensors away"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:speedometer"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:lan-disconnect"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "selected data entities ↓ state"
                              auto_entities:
                                sort_method: "state"
                                sort_numeric: true
                                exclude_unknown_state: true
                        hold_action:
                          action: "more-info"
                    item7:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_battery_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_battery_class_sensors"
                        name: "Battery"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "batteries_unavailable_count"
                              count_tooltip: "num batteries away"
                            amount:
                              attribute_name: "batteries_below20_count"
                              count_tooltip: "num batteries under 20%"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:battery-unknown"
                              icon_color: "blue"
                              background_color: "blue"
                            error_state:
                              icon: "mdi:battery-alert"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "battery entities ↓ state"
                              auto_entities:
                                sort_method: "state"
                                sort_numeric: true
                                exclude_unavailable_state: true
                        hold_action:
                          action: "more-info"
                    item8:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_signal_strength_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_signal_strength_class_sensors"
                        name: "Signal"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "signal_sensors_unavailable_count"
                              count_tooltip: "num signals away"
                            amount:
                              attribute_name: "signal_sensors_low_count"
                              count_tooltip: "num signals under -80dBm"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:signal-off"
                              icon_color: "grey"
                              background_color: "grey"
                            error_state:
                              icon: "mdi:wifi-alert"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "signal entities ↓ strength"
                              auto_entities:
                                exclude_unavailable_state: true
                        hold_action:
                          action: "more-info"
                    item9:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                          # - "custom_card_kepath_generic_group_popup"
                        entity: "sensor.udmpro_state"
                        name: "Unifi"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "integration_unifi_unavailable_count"
                              count_tooltip: "unifi entities away"
                            amount:
                              attribute_name: "zero_value"
                              count_tooltip: "not set"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "si:ubiquiti"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "si:ubiquiti"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "integration_unifi_unavailable_count"
                            style:
                              icon: "si:ubiquiti"
                              icon_color: "red"
                              background_color: "red"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/integrations/integration/unifi"
                        hold_action:
                          action: "more-info"
                    item10:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                        entity: "sensor.lumi_lumi_router_lqi"
                        name: "ZHA"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "integration_zha_unavailable_count"
                              count_tooltip: "ZHA entities away"
                            amount:
                              attribute_name: "zero_value"
                              count_tooltip: "not set"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "si:zigbee"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "si:zigbee"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "integration_zha_unavailable_count"
                            style:
                              icon: "si:zigbee"
                              icon_color: "red"
                              background_color: "red"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/integrations/integration/zha"
                        hold_action:
                          action: "more-info"
                    item11:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                        entity: "sensor.active_issues"
                        name: "Spook"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "integration_spook_unavailable_count"
                              count_tooltip: "spook entities away"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:ghost"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:ghost"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              isattribute: false
                              evaluated_entity: "sensor.active_issues"
                            style:
                              icon: "mdi:ghost-outline"
                              icon_color: "red"
                              background_color: "red"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/integrations/integration/spook"
                        hold_action:
                          action: "more-info"
                    item12:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                        entity: "update.watchman_update"
                        name: "Watchman"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "sensor.watchman_missing_entities"
                              is_attribute: false
                              count_tooltip: "watchmen missing entities"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:shield-half-full"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:shield-off-outline"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              isattribute: false
                              evaluated_entity: "sensor.watchman_missing_entities"
                            style:
                              icon: "mdi:shield-half-full"
                              icon_color: "red"
                              background_color: "red"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/lovelace-minimalist-downloads/3"
                        hold_action:
                          action: "more-info"
                    item13:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                        entity: "sensor.active_issues"
                        name: "Repairs"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "sensor.active_issues"
                              is_attribute: false
                              count_tooltip: "active issues"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:wrench-cog"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:wrench-cog-outline"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              isattribute: false
                              evaluated_entity: "sensor.active_issues"
                            style:
                              icon: "mdi:wrench-cog-outline"
                              icon_color: "red"
                              background_color: "red"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/repairs"
                        hold_action:
                          action: "more-info"
                    item14:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                        entity: "sensor.icloud3_event_log"
                        name: "iCloud3"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "integration_icloud3_unavailable_count"
                              count_tooltip: "iCloud3 entities away"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "si:icloud"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "si:icloud"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "integration_icloud3_unavailable_count"
                            style:
                              icon: "si:icloud"
                              icon_color: "red"
                              background_color: "red"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/integrations/integration/icloud3"
                        hold_action:
                          action: "more-info"
                    item15:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                        entity: "binary_sensor.nest_protect_bottom_floor_smoke_status"
                        name: "Nest"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            unavailable:
                              attribute_name: "integration_nest_protect_unavailable_count"
                              count_tooltip: "nest entities away"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:smoke-detector-variant"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:smoke-detector-variant-alert"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "integration_nest_protect_unavailable_count"
                            style:
                              icon: "mdi:smoke-detector-variant-off"
                              icon_color: "red"
                              background_color: "red"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/integrations/integration/nest_protect"
                        hold_action:
                          action: "more-info"

              - type: "conditional"
                conditions:
                  - entity: "input_boolean.minimalist_ui_binary_update_sensors"
                    state: "on"
                card:
                  type: "custom:button-card"
                  styles:
                    grid:
                      - grid-template-areas: >
                          'doubleitem1 doubleitem1 doubleitem1 doubleitem1 doubleitem1 doubleitem2 doubleitem2 doubleitem2 doubleitem2 doubleitem2'
                          'item1 item1 item2 item2 item3 item3 item4 item4 item5 item5'
                          'item6 item6 item7 item7 item8 item8 item9 item9 item10 item10'
                          'item11 item11 item12 item12 item13 item13 item14 item14 item15 item15'
                      - grid-template-columns: "1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr"
                      - grid-template-rows: "min-content"
                      - justify-items: "center"
                    card:
                      - padding: "10px"
                      - overflow: "visible"
                      - border-top-left-radius: "0px"
                      - border-top-right-radius: "0px"
                      - background-color: ""
                    custom_fields:
                      doubleitem1: &widget_update_styling
                        - border-radius: "none"
                        - box-shadow: "none"
                        - padding: "4px"
                        - margin-bottom: "10px"
                        - cursor: "default"
                        - width: "86%"
                        - justify-items: "center"
                      doubleitem2: *widget_update_styling
                      item1: *widget_icon_binary_sensor_custom_styling
                      item2: *widget_icon_binary_sensor_custom_styling
                      item3: *widget_icon_binary_sensor_custom_styling
                      item4: *widget_icon_binary_sensor_custom_styling
                      item5: *widget_icon_binary_sensor_custom_styling
                      item6: *widget_icon_binary_sensor_custom_styling
                      item7: *widget_icon_binary_sensor_custom_styling
                      item8: *widget_icon_binary_sensor_custom_styling
                      item9: *widget_icon_binary_sensor_custom_styling
                      item10: *widget_icon_binary_sensor_custom_styling
                  custom_fields:
                    doubleitem1:
                      card:
                        type: "custom:button-card"
                        template: "card_kepath_update"
                        entity: "update.home_assistant_core_update"
                        variables:
                          ulm_card_neekster_update_enable_controls: true
                          ulm_card_neekster_update_collapsible: false
                          ulm_card_neekster_update_horizontal: false
                          ulm_card_neekster_update_narrow_buttons: true
                          ulm_card_neekster_update_view_release_notes: true
                    doubleitem2:
                      card:
                        type: "custom:button-card"
                        template: "card_kepath_update"
                        entity: "update.home_assistant_supervisor_update"
                        variables:
                          ulm_card_neekster_update_enable_controls: true
                          ulm_card_neekster_update_collapsible: false
                          ulm_card_neekster_update_horizontal: false
                          ulm_card_neekster_update_narrow_buttons: true
                          ulm_card_neekster_update_view_release_notes: true

                    item1:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_simple_switch_state"
                          - "custom_card_kepath_generic_group_popup"
                        entity: "group.all_updates"
                        name: "Updates"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              attribute_name: "tab_update_sensors_triggered_count"
                              count_tooltip: "num updates available"
                          var_kepath_generic_button_icon_styles:
                            default_state:
                              icon: "mdi:refresh"
                              icon_color: "green"
                              background_color: "green"
                            error_state:
                              icon: "mdi:reload-alert"
                          var_kepath_device_entity_and_style_simple_binary_switch_state:
                            on_state:
                              icon: "mdi:refresh-circle"
                              icon_color: "yellow"
                              background_color: "yellow"
                          var_kepath_generic_group_popup:
                            action: "popup"
                            popup:
                              title: "update entities"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/config/updates"
                        hold_action:
                          action: "more-info"
                    item2:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "device_kepath_entity_and_style_binary_count_state"
                          # - "custom_card_kepath_generic_use_entity_picture" use mdi icon for hacs
                        entity: "update.hacs_update"
                        name: "HACS"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              attribute_name: "hacs_updates_available"
                              count_tooltip: "num hacs updates available"
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "mdi:store"
                              icon_color: "#41bdf5"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "mdi:store-alert"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                          var_kepath_device_entity_and_style_binary_count_state:
                            entity:
                              evaluated_attribute: "hacs_updates_available"
                            style:
                              use_themes: false
                              icon: "mdi:store"
                              icon_color: "#41F595FF"
                              background_color: "rgba(var(--color-theme),0.05)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hacs"
                        hold_action:
                          action: "more-info"
                    item3:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.adguard_home_update"
                        name: "AdGuard"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.adguard_home_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "si:adguard"
                              icon_color: "#68BC71"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "si:adguard"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/a0d7b954_adguard"
                    item4:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.plex_media_server_update"
                        name: "Plex"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.plex_media_server_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "si:plex"
                              icon_color: "rgba(var(--color-yellow), 1)"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "si:plex"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "url"
                          url_path: "http://192.168.10.5:3400/web"
                    item5:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.guacamole_client_update"
                        name: "Guacamole"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.guacamole_client_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "mdi:lan-connect"
                              icon_color: "#578B34"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "mdi:lan-connect"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/db21ed7f_guacamole"
                    item6:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.esphome_update"
                        name: "ESPHome"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.esphome_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "si:esphome"
                              icon_color: "#41bdf5"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "si:esphome"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/5c53de3b_esphome"
                    item7:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.portainer_update"
                        name: "Portainer"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.portainer_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "si:docker"
                              icon_color: "#13BEF9"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "si:docker"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/db21ed7f_portainer"
                    item8:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.emqx_update"
                        name: "EMQX"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.emqx_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "mdi:pipe"
                              icon_color: "#16A560"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "mdi:pipe"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/a0d7b954_emqx"
                    item9:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.uptime_kuma_update"
                        name: "Kuma"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.uptime_kuma_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "si:uptimekuma"
                              icon_color: "#5CDD8B"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "si:uptimekuma"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "url"
                          url_path: "http://192.168.10.5:3001/"
                    item10:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.netdata_update"
                        name: "Netdata"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.netdata_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "mdi:chart-bar"
                              icon_color: "#E9568E"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "mdi:chart-bar"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/47146a2b_netdata"
                    item11:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.scrutiny_full_access_update"
                        name: "Scrutiny"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.scrutiny_full_access_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "mdi:glasses"
                              icon_color: "#4422CB"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "mdi:glasses"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/db21ed7f_scrutiny_fa"
                    item12:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.studio_code_server_update"
                        name: "VS Code"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.studio_code_server_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "si:visualstudiocode"
                              icon_color: "#007ACC"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "si:visualstudiocode"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/a0d7b954_vscode"
                    item13:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.nginx_proxy_manager_update"
                        name: "NGinx"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.nginx_proxy_manager_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "si:nginx"
                              icon_color: "#009639"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "si:nginx"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "url"
                          url_path: "http://192.168.10.5:81/"
                    item14:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.music_assistant_update"
                        name: "Music Assistant"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.music_assistant_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "mdi:music-circle"
                              icon_color: "rgba(var(--primary-text-color),1)"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "mdi:music-circle-outline"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/d5369777_music_assistant"
                    item15:
                      card:
                        type: "custom:button-card"
                        template:
                          - "custom_card_kepath_binary_notifications_common_styles"
                          - "custom_card_kepath_binary_notifications_device_style"
                          - "device_kepath_entity_common_binary_objects_and_styles"
                          - "custom_card_kepath_generic_use_entity_picture"
                        entity: "update.phpmyadmin_update"
                        name: "phpMyAdmin"
                        variables:
                          var_kepath_generic_get_set_group_notification_objects:
                            amount:
                              entity: "update.phpmyadmin_update"
                              count_tooltip: "add-in has update"
                              is_attribute: false
                          var_kepath_generic_button_icon_styles:
                            use_themes: false
                            default_state:
                              icon: "si:phpmyadmin"
                              icon_color: "#6C78AF"
                              background_color: "rgba(var(--color-theme),0.05)"
                            error_state:
                              icon: "si:phpmyadmin"
                              icon_color: "rgba(var(--color-red), 1)"
                              background_color: "rgba(var(--color-red), 0.2)"
                        tap_action:
                          action: "navigate"
                          navigation_path: "/hassio/ingress/a0d7b954_phpmyadmin"

          - type: "custom:layout-card"
            layout_type: "custom:masonry-layout"
            layout:
              margin: "8px 0px 0px 0px"
              card_margin: "0px"
              layout_margin: "0px"
            cards:
              - type: "custom:button-card"
                styles:
                  grid:
                    - grid-template-areas: "'item1 item2 item3 item4'"
                    - grid-template-columns: "1fr 1fr 1fr 1fr"
                    - row-gap: "0px"
                  card:
                    - padding: "10px"
                    - cursor: "default"
                  custom_fields:
                    item1: &widget_person_styling
                      - border-radius: "none"
                      - box-shadow: "none"
                      - padding: "4px"
                      - margin-left: "relative"
                      - cursor: "default"
                      - border-radius: "50%"
                    item2: *widget_person_styling
                    item3: *widget_person_styling
                    item4: *widget_person_styling
                custom_fields:
                  item1:
                    card:
                      type: "custom:button-card"
                      template: "custom_card_kepath_person_info"
                      variables:
                        ulm_card_kepath_person_entity: "person.kevin_thorn"
                        ulm_card_kepath_person_wifi_tracker: "device_tracker.iphone_15_kev_unifi"
                        ulm_card_kepath_person_gps_tracker: "device_tracker.iphone_15_kev_icloud3"
                        ulm_card_kepath_person_findmy_device: "kevs_iphone"
                        ulm_card_kepath_person_driving_entity: "binary_sensor.is_kev_driving"
                        ulm_card_kepath_person_distance_entity: "sensor.kevs_iphone_icloud_home_distance"
                  item2:
                    card:
                      type: "custom:button-card"
                      template: "custom_card_kepath_person_info"
                      variables:
                        ulm_card_kepath_person_entity: "person.julia_thorn"
                        ulm_card_kepath_person_wifi_tracker: "device_tracker.ju_iphone_8_unifi"
                        ulm_card_kepath_person_gps_tracker: "device_tracker.iphone_8_ju_icloud3"
                        ulm_card_kepath_person_findmy_device: "julias_iphone_8"
                        ulm_card_kepath_person_driving_entity: ""
                        ulm_card_kepath_person_distance_entity: "sensor.julia_s_iphone_8_home_distance"
                  item3:
                    card:
                      type: "custom:button-card"
                      template: "custom_card_kepath_person_info"
                      variables:
                        ulm_card_kepath_person_entity: "person.daniel_thorn"
                        ulm_card_kepath_person_wifi_tracker: "device_tracker.iphone_12_dan_unifi"
                        ulm_card_kepath_person_gps_tracker: "device_tracker.iphone_12_dan_icloud3"
                        ulm_card_kepath_person_findmy_device: "iphone"
                        ulm_card_kepath_person_driving_entity: ""
                        ulm_card_kepath_person_distance_entity: "sensor.iphone_home_distance"
                  item4:
                    card:
                      type: "custom:button-card"
                      template: "custom_card_kepath_person_info"
                      variables:
                        ulm_card_kepath_person_entity: "person.emily_thorn"
                        ulm_card_kepath_person_wifi_tracker: "device_tracker.iphone13_emily_patrice_unifi"
                        ulm_card_kepath_person_gps_tracker: "device_tracker.iphone_13_emily_icloud3"
                        ulm_card_kepath_person_findmy_device: "patrice"
                        ulm_card_kepath_person_driving_entity: ""
                        ulm_card_kepath_person_distance_entity: "sensor.patrice_home_distance"
