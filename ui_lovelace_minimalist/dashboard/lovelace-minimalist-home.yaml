---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"

views:

  - title: "Main"
    icon: "mdi:cellphone-text"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_kepath_welcome"
                triggers_update: "input_boolean.welcome_toggle"
                variables:
                  ulm_card_kepath_welcome_collapse: "input_boolean.welcome_toggle"
                  ulm_chip_temperature_inside: "sensor.nest_bottom_floor_temperature"
                  ulm_chip_temperature_outside: "sensor.banbury_temperature"
                  ulm_chip_temperature_weather: "weather.met_office_banbury"
                  entity_1:
                    nav: "/lovelace-minimalist-rooms"
                    icon: "mdi:floor-plan"
                    name: "Rooms"
                    color: "blue"
                  entity_2:
                    nav: "/lovelace-minimalist-devices"
                    icon: "mdi:devices"
                    name: "Device"
                    color: "green"
                  entity_3:
                    nav: "/lovelace-minimalist-network"
                    icon: "mdi:lan"
                    name: "Net"
                    color: "yellow"
                  entity_4:
                    nav: "/lovelace-minimalist-downloads"
                    icon: "mdi:download"
                    name: "Down"
                    color: "purple"
                  entity_5:
                    nav: "/lovelace-minimalist-security"
                    icon: "mdi:shield-home"
                    name: "Secure"
                    color: "red"
                  entity_6:
                    nav: "/lovelace-minimalist-media"
                    icon: "mdi:remote-tv"
                    name: "Media"
                    color: "green"
                  entity_7:
                    nav: "/lovelace-minimalist-climate"
                    icon: "mdi:home-thermometer"
                    name: "Temp"
                    color: "red"
                  entity_8:
                    nav: "/lovelace-minimalist-energy"
                    icon: "mdi:lightning-bolt"
                    name: "Energy"
                    color: "yellow"
                  entity_9:
                    nav: "/a0d7b954_grafana"
                    icon: "si:grafana"
                    name: "Data"
                    color: "purple"
                  entity_10:
                    nav: "/lovelace-minimalist-links"
                    icon: "mdi:link-variant"
                    name: "Links"
                    color: "blue"

          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                styles:
                  grid:
                    - grid-template-areas: "'item1 item1 item1 item1 item1 item2 item2 item2 item2 item2' 'item3 item3 item4 item4 item5 item5 item6 item6 item7 item7' 'item8 item8 item9 item9 item10 item10 item11 item11 item12 item12'"
                    - grid-template-columns: "1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr"
                    - grid-template-rows: "min-content"
                    - justify-items: "center"
                  card:
                    - padding: "10px"
                    - overflow: "visible"
                  custom_fields:
                    item1: &widget_update_styling
                      - border-radius: "none"
                      - box-shadow: "none"
                      - padding: "4px"
                      - margin-bottom: "10px"
                      - cursor: "default"
                      - width: "86%"
                      - justify-items: "center"
                    item2: *widget_update_styling
                    item3: &widget_icon_binary_sensor_styling
                      - border-radius: "none"
                      - box-shadow: "none"
                      - padding: "4px"
                      # - margin-left: "relative"
                      - cursor: "default"
                    item4: *widget_icon_binary_sensor_styling
                    item5: *widget_icon_binary_sensor_styling
                    item6: *widget_icon_binary_sensor_styling
                    item7: *widget_icon_binary_sensor_styling
                    item8: *widget_icon_binary_sensor_styling
                    item9: *widget_icon_binary_sensor_styling
                    item10: *widget_icon_binary_sensor_styling
                    item11: *widget_icon_binary_sensor_styling
                    item12: *widget_icon_binary_sensor_styling
                    item13: *widget_icon_binary_sensor_styling
                    item14: *widget_icon_binary_sensor_styling
                custom_fields:
                  item1:
                    card:
                      type: "custom:button-card"
                      template: "card_kepath_update"
                      entity: "update.home_assistant_core_update"
                      variables:
                        ulm_card_neekster_update_enable_controls: true
                        ulm_card_neekster_update_collapsible: false
                        ulm_card_neekster_update_horizontal: false
                        ulm_card_neekster_update_narrow_buttons: true
                        ulm_card_neekster_update_view_release_notes: true
                  item2:
                    card:
                      type: "custom:button-card"
                      template: "card_kepath_update"
                      entity: "update.home_assistant_supervisor_update"
                      variables:
                        ulm_card_neekster_update_enable_controls: true
                        ulm_card_neekster_update_collapsible: false
                        ulm_card_neekster_update_horizontal: false
                        ulm_card_neekster_update_narrow_buttons: true
                        ulm_card_neekster_update_view_release_notes: true
                  item3:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "green_off_no_name"
                        - "yellow_on_no_bg_or_name"
                      entity: "sensor.binary_sensor_status_counts"
                      icon: "hacs:hacs"
                      name: "HACS"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "navigate"
                          page: "/hacs"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          amount:
                            entity: "sensor.hacs"
                            subtype: "state"
                            value: ""
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "zero_value"

                  item4:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "green_off_no_name"
                        - "yellow_on_no_bg_or_name"
                      entity: "group.all_updates"
                      icon: "mdi:update"
                      name: "Updates"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "navigate"
                          page: "/config/updates"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          amount:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "updates_count"
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "zero_value"

                  item5:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "grey_off_no_name"
                        - "yellow_on_no_bg_or_name"
                      entity: "group.all_lights"
                      icon: "mdi:lightbulb-multiple"
                      name: "Lights"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "light"
                          page: "/0"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          amount:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "lights_on_count"
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "zero_value"

                  item6:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "green_off_no_name"
                        - "blue_on_no_bg_or_name"
                      entity: "group.all_outlet_class_switch"
                      icon: "mdi:power-plug"
                      name: "Plugs"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "plug"
                          page: "/0"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          auto_entities_sort_reversed: true
                          amount:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "plugs_off_count"
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "zero_value"

                  item7:
                    card:
                      type: "custom:button-card"
                      template:
                        - "card_notification_script_trigger"
                        - "green_off_no_name"
                      entity: "input_boolean.away_script_active"
                      icon: "mdi:lock-open"
                      name: "Home"
                      variables:
                        script_activate:
                          icon:
                            mdi: "mdi:lock"
                            color: "red"
                          name: "Lockdown"
                          script:
                            name: "script.lockdown_mode_on"
                            confirmation_text: "This will ACTIVATE lockdown mode. Are you sure you want to proceed?"
                        script_deactivate:
                          script:
                            name: "script.lockdown_mode_off"
                            confirmation_text: "This will return to home mode. Are you sure you want to proceed?"

                  item8:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "green_off_no_name"
                        - "red_on_no_bg_or_name"
                      entity: "group.all_safety_class_binary_sensors"
                      icon: "mdi:alarm-light"
                      name: "Alerts"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "safety"
                          page: "/0"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          auto_entities_sort_method: "last_changed"
                          amount:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "safety_alert_count"
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "safety_sensors_unavailable_count"

                  item9:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "green_off_no_name"
                        - "red_on_no_bg_or_name"
                      entity: "group.all_door_class_binary_sensors"
                      icon: "mdi:door"
                      name: "Doors"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "door"
                          page: "/0"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          auto_entities_sort_method: "last_changed"
                          amount:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "doors_open_count"
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "door_sensors_unavailable_count"

                  item10:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "card_occupancy_state"
                      entity: "group.all_occupancy_class_binary_sensors"
                      icon: "mdi:human-greeting"
                      name: "Motion"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "occupancy"
                          page: "/0"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          auto_entities_sort_method: "last_changed"
                          amount:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "occupancy_count"
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "occupancy_sensors_unavailable_count"
                          person:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "occupancy_persons_home_count"

                  item11:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "green_off_no_name"
                        - "blue_on_no_bg_or_name"
                      entity: "group.all_tv_class_media_player"
                      icon: "mdi:television-play"
                      name: "Video"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "tv"
                          page: "/0"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          auto_entities_sort_method: "name"
                          auto_entities_sort_reversed: true
                          amount:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "media_player_tv_on_count"
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "zero_value"

                  item12:
                    card:
                      type: "custom:button-card"
                      template:
                        - "custom_card_kepath_binary_sensor_count"
                        - "green_off_no_name"
                        - "blue_on_no_bg_or_name"
                      entity: "group.all_audio_class_media_player"
                      icon: "mdi:volume-medium"
                      name: "Audio"
                      variables:
                        ulm_card_kepath_binary_sensor_count_popup:
                          type: "speaker"
                          page: "/0"
                        ulm_card_kepath_binary_sensor_count_notifications:
                          auto_entities_sort_method: "name"
                          auto_entities_sort_reversed: true
                          amount:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "media_player_audio_on_count"
                          unavailable:
                            entity: "sensor.binary_sensor_status_counts"
                            subtype: "attributes"
                            value: "media_player_audio_unavailable_count"
                # tap_action:
                #   action: "none"

          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                styles:
                  grid:
                    - grid-template-areas: "'item1 item2 item3 item4'"
                    - grid-template-columns: "1fr 1fr 1fr 1fr"
                    - row-gap: "0px"
                  card:
                    - padding: "10px"
                    - cursor: "default"
                  custom_fields:
                    item1: &widget_person_styling
                      - border-radius: "none"
                      - box-shadow: "none"
                      - padding: "4px"
                      - margin-left: "relative"
                      - cursor: "default"
                      - border-radius: "50%"
                    item2: *widget_person_styling
                    item3: *widget_person_styling
                    item4: *widget_person_styling
                custom_fields:
                  item1:
                    card:
                      type: "custom:button-card"
                      template: "custom_card_kepath_person_info"
                      variables:
                        ulm_card_kepath_person_entity: "person.kevin_thorn"
                        ulm_card_kepath_person_wifi_tracker: "device_tracker.kev_iphone_11_unifi"
                        ulm_card_kepath_person_gps_tracker: "device_tracker.repl_iphone_11"
                        ulm_card_kepath_person_findmy_device: "repl_iphone_11"
                        ulm_card_kepath_person_driving_entity: "binary_sensor.kev_driving_status"
                        ulm_card_kepath_person_distance_entity: "proximity.kevin_thorn_home"
                  item2:
                    card:
                      type: "custom:button-card"
                      template: "custom_card_kepath_person_info"
                      variables:
                        ulm_card_kepath_person_entity: "person.julia_thorn"
                        ulm_card_kepath_person_wifi_tracker: "device_tracker.ju_iphone_8_unifi"
                        ulm_card_kepath_person_gps_tracker: "device_tracker.julia_s_iphone_6"
                        ulm_card_kepath_person_findmy_device: "julia_s_iphone_6"
                        ulm_card_kepath_person_driving_entity: ""
                        ulm_card_kepath_person_distance_entity: "proximity.julia_thorn_home"
                  item3:
                    card:
                      type: "custom:button-card"
                      template: "custom_card_kepath_person_info"
                      variables:
                        ulm_card_kepath_person_entity: "person.daniel_thorn"
                        ulm_card_kepath_person_wifi_tracker: "device_tracker.iphone_12_dan_unifi"
                        ulm_card_kepath_person_gps_tracker: "device_tracker.iphone"
                        ulm_card_kepath_person_findmy_device: "iphone"
                        ulm_card_kepath_person_driving_entity: ""
                        ulm_card_kepath_person_distance_entity: "proximity.daniel_thorn_home"
                  item4:
                    card:
                      type: "custom:button-card"
                      template: "custom_card_kepath_person_info"
                      variables:
                        ulm_card_kepath_person_entity: "person.emily_thorn"
                        ulm_card_kepath_person_wifi_tracker: "device_tracker.iphone_5"
                        ulm_card_kepath_person_gps_tracker: "device_tracker.patrice"
                        ulm_card_kepath_person_findmy_device: "patrice"
                        ulm_card_kepath_person_driving_entity: ""
                        ulm_card_kepath_person_distance_entity: "proximity.emily_thorn_home"
