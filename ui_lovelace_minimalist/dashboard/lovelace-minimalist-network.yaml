---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"
views:
  - title: "Climate"
    icon: "mdi:weather-partly-cloudy"
    theme: "minimalist-mobile"
    cards:
      - type: "horizontal-stack"
        cards:
          - type: "custom:button-card"
            template: "edge"
          - type: "custom:button-card"
            template:
              - "chip_navigate"
            variables:
              ulm_chip_navigate_path: "/lovelace-minimalist-home"
              ulm_chip_navigate_icon: "mdi:cellphone-text"
              ulm_chip_navigate_icon_color: "rgba(var(--color-blue),1)"
              ulm_chip_navigate_label_color: "rgba(var(--color-blue),0.2)"
          - type: "custom:button-card"
            template: "card_graph"
            variables:
              ulm_card_graph_color: "var(--google-blue)"
              ulm_card_graph_name: "DNS queries"
              ulm_card_graph_entity: "sensor.adguard_dns_queries"
          - type: "custom:button-card"
            template: "card_graph"
            variables:
              ulm_card_graph_color: "var(--google-blue)"
              ulm_card_graph_name: "WAN Speed"
              ulm_card_graph_entity: "sensor.speedtest_download"
          - type: "custom:button-card"
            template: "edge"
      - type: "horizontal-stack"
        cards:
          - type: "custom:button-card"
            template: "edge"
          - type: "custom:button-card"
            template: "card_generic"
            entity: "sensor.plex_state_mqtt"
          - type: "custom:button-card"
            template: "card_generic"
            entity: "sensor.plex_state_tautulli"
          - type: "custom:button-card"
            template: "card_generic"
            entity: "sensor.ups_status"
          - type: "custom:button-card"
            template: "edge"
      - type: "horizontal-stack"
        cards:
          - type: "custom:button-card"
            template: "edge"
          - type: "custom:button-card"
            template: "card_binary_sensor_alert"
            variables:
              - ulm_card_binary_sensor_alert: true
            entity: "binary_sensor.diskstation_security_status"
            show_last_changed: true
            name: "NAS Status"
          - type: "custom:button-card"
            template: "edge"
  - title: "Floorplan"
    icon: "mdi:floor-plan"
    theme: "minimalist-mobile"
    panel: true
    cards:
      - type: "vertical-stack"
        cards:
          - type: "conditional"
            conditions:
              - entity: "input_select.floorplan_floor"
                state: "G"
            card: !include "floorplan_network/floor-ground.yaml"
          - type: "conditional"
            conditions:
              - entity: "input_select.floorplan_floor"
                state: "1"
            card: !include "floorplan_network/floor-first.yaml"
          - type: "conditional"
            conditions:
              - entity: "input_select.floorplan_floor"
                state: "2"
            card: !include "floorplan_network/floor-second.yaml"
  - title: "Sankey Chart"
    icon: "mdi:floor-plan"
    theme: "minimalist-mobile"
    cards:
      - type: "custom:sankey-chart"
        show_names: true
        unit_prefix: "k"
        round: 1
        wide: true
        sections:
          - entities:
              - entity_id: "sensor.solar"
                color: "var(--warning-color)"
                children:
                  - "sensor.total_energy"
              - entity_id: "sensor.grid"
                children:
                  - "sensor.total_energy"
              - entity_id: "sensor.battery"
                color: "var(--success-color)"
                children:
                  - "sensor.total_energy"
          - entities:
              - entity_id: "sensor.total_energy"
                children:
                  - "sensor.floor1"
                  - "sensor.floor2"
                  - "sensor.garage"
          - entities:
              - entity_id: "sensor.garage"
                color: "purple"
                children:
                  - "sensor.ev_charger"
                  - "garage_other"
              - entity_id: "sensor.floor1"
                children:
                  - "sensor.living_room"
                  - "sensor.washer"
              - entity_id: "sensor.floor2"
          - entities:
              - "sensor.ev_charger"
              - entity_id: "garage_other"
                type: "remaining_parent_state"
                name: "Other"
              - "sensor.living_room"
              - "sensor.washer"
  - title: "Home"
    theme: "Backend-selected"
    icon: "mdi:rotate-3d"
    cards:
      # - type: "history-graph"
      #   entities:
      #     - entity: "sensor.nvidia_shield_bed_e_unifi_rx"
      #     - entity: "sensor.nvidia_shield_bed_e_unifi_tx"
      #   hours_to_show: 1
      # - type: "custom:mini-graph-card"
      #   # upper_bound: 20
      #   entities:
      #     - "sensor.nvidia_shield_lounge_unifi_rx"
      #     - "sensor.nvidia_shield_lounge_unifi_tx"
      #   hours_to_show: 1
      #   points_per_hour: 15

      - type: "custom:apexcharts-card"
        experimental:
          color_threshold: true
        all_series_config:
          stroke_width: 2
        update_interval: "1m"
        graph_span: "2h"
        series:
          - entity: "sensor.nvidia_shield_lounge_unifi_rx"
            name: "RX"
            color_threshold:
              - value: 0
                color: "#FAA"
              - value: 0.2
                color: "#F99"
              - value: 0.3
                color: "#F88"
              - value: 0.4
                color: "#F77"
              - value: 0.5
                color: "#F66"
              - value: 1
                color: "#F55"
              - value: 2
                color: "#F44"
              - value: 5
                color: "#F33"
              - value: 10
                color: "#F22"
              - value: 15
                color: "#F11"
              - value: 25
                color: "#F00"

                # - value: 0
                #   color: "#AFA"
                # - value: 0
                #   color: "#9F9"
                # - value: 0
                #   color: "#8F8"
                # - value: 0
                #   color: "#7F7"
                # - value: 0
                #   color: "#6F6"
                # - value: 0
                #   color: "#5F5"
                # - value: 0
                #   color: "#4F4"
                # - value: 0
                #   color: "#3F3"
                # - value: 0
                #   color: "#2F2"
                # - value: 15
                #   color: "#1F1"
                # - value: 30
                #   color: "#0F0"


          - entity: "sensor.nvidia_shield_lounge_unifi_tx"
            name: "TX"
            # type: "area"
            color_threshold:
              - value: 0
                color: "#AAF"
              - value: 0.2
                color: "#99F"
              - value: 0.3
                color: "#88F"
              - value: 0.4
                color: "#77F"
              - value: 0.5
                color: "#66F"
              - value: 1
                color: "#55F"
              - value: 2
                color: "#44F"
              - value: 5
                color: "#33F"
              - value: 10
                color: "#22F"
              - value: 15
                color: "#11F"
              - value: 25
                color: "#00F"

      - type: "custom:apexcharts-card"
        experimental:
          color_threshold: true
        all_series_config:
          stroke_width: 2
        update_interval: "1m"
        graph_span: "2h"
        series:
          - entity: "sensor.amazon_firestick_4k_rj45_unifi_rx_2"
            name: "RX"
            color_threshold:
              - value: 0
                color: "#FAA"
              - value: 0.2
                color: "#F99"
              - value: 0.3
                color: "#F88"
              - value: 0.4
                color: "#F77"
              - value: 0.5
                color: "#F66"
              - value: 1
                color: "#F55"
              - value: 2
                color: "#F44"
              - value: 5
                color: "#F33"
              - value: 10
                color: "#F22"
              - value: 15
                color: "#F11"
              - value: 25
                color: "#F00"
          - entity: "sensor.amazon_firestick_4k_rj45_unifi_tx_2"
            name: "TX"
            # type: "area"
            color_threshold:
              - value: 0
                color: "#AAF"
              - value: 0.2
                color: "#99F"
              - value: 0.3
                color: "#88F"
              - value: 0.4
                color: "#77F"
              - value: 0.5
                color: "#66F"
              - value: 1
                color: "#55F"
              - value: 2
                color: "#44F"
              - value: 5
                color: "#33F"
              - value: 10
                color: "#22F"
              - value: 15
                color: "#11F"
              - value: 25
                color: "#00F"
                # yaxis:
                #   - min: 0
                #     max: 20
                #     decimals: 0
                #     apex_config:
                #       tickAmount: 4
                # - type: "custom:history-explorer-card"
                #   graphs:
                #     - type: "line"
                #       entities:
                #         - entity: "sensor.nvidia_shield_lounge_unifi_rx"
                #           color: #3e95cd
                #           fill: "rgba(151,187,205,0.15)"
                #         - entity: "sensor.nvidia_shield_lounge_unifi_tx"
                #           color: "#ee3452"
                #           fill: "rgba(0,0,0,0)"
                #   combineSameUnits: true
                #   defaultTimeRange: "1h"
                #   refresh:
                #     interval: 60
                #   # cardName: "historycard-82779252"
                # - type: "custom:plotly-graph"
                #   entities:
                #     - entity: "sensor.nvidia_shield_lounge_unifi_rx"
                #     - entity: "sensor.nvidia_shield_lounge_unifi_tx"
                #   hours_to_show: 1
                #   refresh_interval: 10
  - title: "Location (Gary)"
    icon: "mdi:cellphone"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "glance"
            title: "Location Info - Kev"
            column_width: "25%"
            entities:
              - entity: "device_tracker.repl_iphone_11"
                name: "Kev"
              - entity: "sensor.repl_iphone_11_interval"
                name: "Interval"
                icon: "mdi:clock-start"
              - entity: "sensor.repl_iphone_11_travel_time"
                name: "TravTime"
                icon: "mdi:clock-outline"
              - entity: "sensor.repl_iphone_11_zone_distance"
                name: "HomeDist"
                icon: "mdi:map-marker-distance"

          - type: "glance"
            column_width: "25%"
            entities:
              - entity: "sensor.repl_iphone_11_waze_distance"
                name: "WazeDist"
                icon: "mdi:map-marker-distance"
              - entity: "sensor.repl_iphone_11_calc_distance"
                name: "CalcDist"
                icon: "mdi:map-marker-distance"
              - entity: "sensor.repl_iphone_11_dir_of_travel"
                name: "Direction"
                icon: "mdi:compass-outline"
              - entity: "input_boolean.gary_driving_flag"
                name: "Driving"
                tap_action:
                  action: "toggle"

          - type: "glance"
            column_width: "25%"
            entities:
              - entity: "sensor.repl_iphone_11_last_located"
                name: "Located"
                icon: "mdi:history"
              - entity: "sensor.repl_iphone_11_last_update"
                name: "LastUpdt"
                icon: "mdi:history"
              - entity: "sensor.repl_iphone_11_next_update"
                name: "NextUpdt"
                icon: "mdi:update"
              - entity: "sensor.repl_iphone_11_poll_count"
                name: "PollCount"
                icon: "mdi:counter"
                tap_action:
                  action: "call-service"
                  service: "script.icloud3_command_event_log_gary"

          - type: "entities"
            entities:
              - entity: "sensor.repl_iphone_11_info"
                name: "Info"
                icon: "mdi:information-outline"

      - type: "vertical-stack"
        cards:
          - type: "glance"
            title: "Location Info - Ju"
            column_width: "25%"
            entities:
              - entity: "device_tracker.julia_s_iphone_6"
                name: "Ju"
              - entity: "sensor.julia_s_iphone_6_interval"
                name: "Interval"
                icon: "mdi:clock-start"
              - entity: "sensor.julia_s_iphone_6_travel_time"
                name: "TravTime"
                icon: "mdi:clock-outline"
              - entity: "sensor.julia_s_iphone_6_zone_distance"
                name: "HomeDist"
                icon: "mdi:map-marker-distance"

          - type: "glance"
            column_width: "25%"
            entities:
              - entity: "sensor.julia_s_iphone_6_waze_distance"
                name: "WazeDist"
                icon: "mdi:map-marker-distance"
              - entity: "sensor.julia_s_iphone_6_calc_distance"
                name: "CalcDist"
                icon: "mdi:map-marker-distance"
              - entity: "sensor.julia_s_iphone_6_dir_of_travel"
                name: "Direction"
                icon: "mdi:compass-outline"
              - entity: "input_boolean.julia_s_iphone_6_driving_flag"
                name: "Driving"
                tap_action:
                  action: "toggle"

          - type: "glance"
            column_width: "25%"
            entities:
              - entity: "sensor.julia_s_iphone_6_last_located"
                name: "Located"
                icon: "mdi:history"
              - entity: "sensor.julia_s_iphone_6_last_update"
                name: "LastUpdt"
                icon: "mdi:history"
              - entity: "sensor.julia_s_iphone_6_next_update"
                name: "NextUpdt"
                icon: "mdi:update"
              - entity: "sensor.julia_s_iphone_6_poll_count"
                name: "PollCount"
                icon: "mdi:counter"

          - type: "entities"
            entities:
              - entity: "sensor.julia_s_iphone_6_info"
                name: "Info"
                icon: "mdi:information-outline"

  - title: "iCloud3"
    path: "icloud3"
    panel: true
    badges: []
    cards:
      - type: "horizontal-stack"
        cards:
          - type: "vertical-stack"
            cards:
              - type: "glance"
                entities:
                  - entity: "device_tracker.repl_iphone_11"
                    name: "Gary"
                  - entity: "sensor.repl_iphone_11_interval"
                    name: "Interval"
                  - entity: "sensor.repl_iphone_11_zone_distance"
                    name: "Distance"
                  - entity: "sensor.repl_iphone_11_travel_time"
                    name: "TravTime"
                  - entity: "sensor.repl_iphone_11_next_update"
                    name: "NextUpdt"
                  - entity: "input_boolean.gary_driving_flag"
                    name: "DrivingFlag"
                    tap_action:
                      action: "toggle"
                  - entity: "sensor.repl_iphone_11_dir_of_travel"
                    name: "Direction"
                  - entity: "sensor.repl_iphone_11_travel_distance"
                    name: "TravDist"
                  - entity: "sensor.repl_iphone_11_last_located"
                    name: "Located"
                  - entity: "sensor.repl_iphone_11_last_update"
                    name: "LastUpdt"
                state_color: true
                show_icon: false
                title: "Gary"
              - type: "entities"
                entities:
                  - entity: "sensor.repl_iphone_11_info"
                    name: "Info - Gary"
                    icon: "mdi:information-outline"
              - type: "glance"
                entities:
                  - entity: "device_tracker.julia_s_iphone_6"
                    name: "Ju"
                  - entity: "sensor.julia_s_iphone_6_interval"
                    name: "Interval"
                  - entity: "sensor.julia_s_iphone_6_zone_distance"
                    name: "Distance"
                  - entity: "sensor.julia_s_iphone_6_travel_time"
                    name: "TravTime"
                  - entity: "sensor.julia_s_iphone_6_next_update"
                    name: "NextUpdt"
                  - entity: "input_boolean.julia_s_iphone_6_driving_flag"
                    name: "DrivingFlag"
                    tap_action:
                      action: "toggle"
                  - entity: "sensor.julia_s_iphone_6_dir_of_travel"
                    name: "Direction"
                  - entity: "sensor.julia_s_iphone_6_travel_distance"
                    name: "TravDist"
                  - entity: "sensor.julia_s_iphone_6_last_located"
                    name: "Located"
                  - entity: "sensor.julia_s_iphone_6_last_update"
                    name: "LastUpdt"
                show_icon: false
                state_color: true
                title: "Ju"
              - type: "entities"
                entities:
                  - entity: "sensor.julia_s_iphone_6_info"
                    name: "Info - Ju"
                    icon: "mdi:information-outline"

          - type: "custom:icloud3-event-log-card"
