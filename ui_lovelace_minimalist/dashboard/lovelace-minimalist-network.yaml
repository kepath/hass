---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"
views:
  - title: "Network"
    icon: "mdi:lan"
    theme: "minimalist-mobile"
    cards:
      - type: "horizontal-stack"
        cards:
          - type: "custom:button-card"
            template: "card_graph"
            variables:
              ulm_card_graph_color: "var(--google-blue)"
              ulm_card_graph_name: "DNS queries"
              ulm_card_graph_entity: "sensor.adguard_dns_queries"
          - type: "custom:button-card"
            template: "card_graph"
            variables:
              ulm_card_graph_color: "var(--google-blue)"
              ulm_card_graph_name: "WAN Speed"
              ulm_card_graph_entity: "sensor.speedtest_download"
          - type: "custom:button-card"
            template: "edge"
      - type: "horizontal-stack"
        cards:
          - type: "custom:button-card"
            template: "edge"
          # - type: "custom:button-card"
          #   template: "card_generic"
          #   entity: "sensor.plex_state_mqtt"
          # - type: "custom:button-card"
          #   template: "card_generic"
          #   entity: "sensor.plex_state_tautulli"
          - type: "custom:button-card"
            template: "card_generic"
            entity: "sensor.ups_status"
          - type: "custom:button-card"
            template: "edge"
      - type: "horizontal-stack"
        cards:
          - type: "custom:button-card"
            template: "edge"
          - type: "custom:button-card"
            template: "card_binary_sensor_alert"
            variables:
              - ulm_card_binary_sensor_alert: true
            entity: "binary_sensor.diskstation_security_status"
            show_last_changed: true
            name: "NAS Status"
          - type: "custom:button-card"
            template: "edge"

  - title: "minimalist ui home"
    icon: "si:homeassistant"
    theme: "minimalist-mobile"
    path: "../lovelace-minimalist-home"

  - title: "Floorplan"
    icon: "mdi:floor-plan"
    theme: "minimalist-mobile"
    panel: true
    cards:
      - type: "vertical-stack"
        cards:
          - type: "conditional"
            conditions:
              - entity: "input_select.floorplan_floor"
                state: "G"
            card: !include "floorplan_network/floor-ground.yaml"
          - type: "conditional"
            conditions:
              - entity: "input_select.floorplan_floor"
                state: "1"
            card: !include "floorplan_network/floor-first.yaml"
          - type: "conditional"
            conditions:
              - entity: "input_select.floorplan_floor"
                state: "2"
            card: !include "floorplan_network/floor-second.yaml"
  - title: "Home"
    theme: "Backend-selected"
    icon: "mdi:rotate-3d"
    cards:
      - type: "custom:apexcharts-card"
        experimental:
          color_threshold: true
        all_series_config:
          stroke_width: 2
        update_interval: "1m"
        graph_span: "2h"
        series:
          - entity: "sensor.nvidia_shield_bed_c_unifi_rx"
            name: "RX"
            color_threshold:
              - value: 0
                color: "#FFAAAA"
              - value: 0.2
                color: "#FF9999"
              - value: 0.3
                color: "#FF8888"
              - value: 0.4
                color: "#FF7777"
              - value: 0.5
                color: "#FF6666"
              - value: 1
                color: "#FF5555"
              - value: 2
                color: "#FF4444"
              - value: 5
                color: "#FF3333"
              - value: 10
                color: "#FF2222"
              - value: 15
                color: "#FF1111"
              - value: 25
                color: "#FF0000"
          - entity: "sensor.nvidia_shield_bed_c_unifi_tx"
            name: "TX"
            color_threshold:
              - value: 0
                color: "#AAAAFF"
              - value: 0.2
                color: "#9999FF"
              - value: 0.3
                color: "#8888FF"
              - value: 0.4
                color: "#7777FF"
              - value: 0.5
                color: "#6666FF"
              - value: 1
                color: "#5555FF"
              - value: 2
                color: "#4444FF"
              - value: 5
                color: "#3333FF"
              - value: 10
                color: "#2222FF"
              - value: 15
                color: "#1111FF"
              - value: 25
                color: "#0000FF"

      - type: "custom:apexcharts-card"
        experimental:
          color_threshold: true
        all_series_config:
          stroke_width: 2
        update_interval: "1m"
        graph_span: "2h"
        series:
          - entity: "sensor.amazon_firestick_4k_rj45_unifi_rx_2"
            name: "RX"
            color_threshold:
              - value: 0
                color: "#FFAAAA"
              - value: 0.2
                color: "#FF9999"
              - value: 0.3
                color: "#FF8888"
              - value: 0.4
                color: "#FF7777"
              - value: 0.5
                color: "#FF6666"
              - value: 1
                color: "#FF5555"
              - value: 2
                color: "#FF4444"
              - value: 5
                color: "#FF3333"
              - value: 10
                color: "#FF2222"
              - value: 15
                color: "#FF1111"
              - value: 25
                color: "#FF0000"
          - entity: "sensor.amazon_firestick_4k_rj45_bed_a_unifi_tx"
            name: "TX"
            color_threshold:
              - value: 0
                color: "#AAAAFF"
              - value: 0.2
                color: "#9999FF"
              - value: 0.3
                color: "#8888FF"
              - value: 0.4
                color: "#7777FF"
              - value: 0.5
                color: "#6666FF"
              - value: 1
                color: "#5555FF"
              - value: 2
                color: "#4444FF"
              - value: 5
                color: "#3333FF"
              - value: 10
                color: "#2222FF"
              - value: 15
                color: "#1111FF"
              - value: 25
                color: "#0000FF"

  - title: "Location"
    icon: "mdi:cellphone"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "glance"
            title: "Location Info - Kev"
            column_width: "25%"
            entities:
              - entity: "device_tracker.kevs_iphone_icloud"
                name: "Kev"
              - entity: "sensor.kevs_iphone_icloud_interval"
                name: "Interval"
                icon: "mdi:clock-start"
              - entity: "sensor.kevs_iphone_icloud_zone_distance"
                name: "HomeDist"
                icon: "mdi:map-marker-distance"
              - entity: "sensor.kevs_iphone_icloud_travel_time"
                name: "TravTime"
                icon: "mdi:clock-outline"

          - type: "glance"
            column_width: "25%"
            entities:
              - entity: "sensor.kevs_iphone_icloud_dir_of_travel"
                name: "Direction"
                icon: "mdi:compass-outline"
              - entity: "binary_sensor.is_kev_driving"
                name: "Driving"
                icon: "mdi:car-info"
              # - entity: "sensor.repl_iphone_11_zone_info_context_security.attributes.waze_distance"
              #   name: "WorkDist"
              #   icon: "mdi:map-marker-distance"
              # - entity: "sensor.repl_iphone_11_travel_time_context_security"
              #   name: "TravTime"
              #   icon: "mdi:clock-outline"

          # - type: "glance"
          #   column_width: "25%"
          #   entities:
          #     - entity: "sensor.repl_iphone_11_last_located"
          #       name: "Located"
          #       icon: "mdi:history"
          #     - entity: "sensor.repl_iphone_11_last_update"
          #       name: "LastUpdt"
          #       icon: "mdi:history"
          #     - entity: "sensor.repl_iphone_11_next_update"
          #       name: "NextUpdt"
          #       icon: "mdi:update"
          #     - entity: "sensor.repl_iphone_11_trigger"
          #       name: "Trigger"
          #       icon: "mdi:flash-outline"
          #       tap_action:
          #         action: "call-service"
          #         service: "script.icloud3_command_event_log_gary"

          # - type: "entities"
          #   entities:
          #     - entity: "sensor.repl_iphone_11_info"
          #       name: "Info"
          #       icon: "mdi:information-outline"

      - type: "vertical-stack"
        cards:
          - type: "glance"
            title: "Location Info - Ju"
            column_width: "25%"
            entities:
              - entity: "device_tracker.julia_s_iphone_8"
                name: "Ju"
              - entity: "sensor.julia_s_iphone_8_interval"
                name: "Interval"
                icon: "mdi:clock-start"
              - entity: "sensor.julia_s_iphone_8_travel_time"
                name: "TravTime"
                icon: "mdi:clock-outline"
              - entity: "sensor.julia_s_iphone_8_zone_distance"
                name: "HomeDist"
                icon: "mdi:map-marker-distance"

          - type: "glance"
            column_width: "25%"
            entities:
              # - entity: "sensor.julia_s_iphone_8_waze_distance"
                # name: "WazeDist"
                # icon: "mdi:map-marker-distance"
              # - entity: "sensor.julia_s_iphone_8_calc_distance"
                # name: "CalcDist"
                # icon: "mdi:map-marker-distance"
              - entity: "sensor.julia_s_iphone_8_dir_of_travel"
                name: "Direction"
                icon: "mdi:compass-outline"
              # - entity: "input_boolean.julia_s_iphone_8_driving_flag"
                # name: "Driving"

          - type: "glance"
            column_width: "25%"
            entities:
              - entity: "sensor.julia_s_iphone_8_last_located"
                name: "Located"
                icon: "mdi:history"
              - entity: "sensor.julia_s_iphone_8_last_update"
                name: "LastUpdt"
                icon: "mdi:history"
              - entity: "sensor.julia_s_iphone_8_next_update"
                name: "NextUpdt"
                icon: "mdi:update"
              # - entity: "sensor.julia_s_iphone_8_poll_count"
                # name: "PollCount"
                # icon: "mdi:counter"

          - type: "entities"
            entities:
              - entity: "sensor.julia_s_iphone_8_info"
                name: "Info"
                icon: "mdi:information-outline"

  # - title: "iCloud3"
  #   path: "icloud3"
  #   badges: []
  #   cards:
  #     - type: "horizontal-stack"
  #       cards:
  #         - type: "custom:button-card"
  #           template: "chip_back"
  #           variables:
  #             ulm_chip_back_path: "/lovelace-minimalist-network/0"
  #         - type: "custom:button-card"
  #           template:
  #             - "chip_navigate"
  #           variables:
  #             ulm_chip_navigate_path: "/lovelace-minimalist-home"
  #             ulm_chip_navigate_icon: "mdi:home"
  #             ulm_chip_navigate_icon_color: "rgba(var(--color-blue),1)"
  #             ulm_chip_navigate_label_color: "rgba(var(--color-blue),0.2)"
  #     - type: "glance"
  #       entities:
  #         - entity: "device_tracker.repl_iphone_11_2"
  #           name: "Kev"
  #         - entity: "sensor.repl_iphone_11_interval"
  #           name: "Interval"
  #         - entity: "sensor.repl_iphone_11_zone_distance"
  #           name: "Distance"
  #         - entity: "sensor.repl_iphone_11_travel_time"
  #           name: "TravTime"
  #         - entity: "sensor.repl_iphone_11_next_update"
  #           name: "NextUpdt"
  #         - entity: "sensor.repl_iphone_11_dir_of_travel"
  #           name: "Direction"
  #         - entity: "sensor.repl_iphone_11_travel_distance"
  #           name: "TravDist"
  #         - entity: "sensor.repl_iphone_11_last_located"
  #           name: "Located"
  #         - entity: "sensor.repl_iphone_11_last_update"
  #           name: "LastUpdt"
  #       state_color: true
  #       show_icon: false
  #       title: "Kev"
  #     - type: "entities"
  #       entities:
  #         - entity: "sensor.repl_iphone_11_info"
  #           name: "Info - Kev"
  #           icon: "mdi:information-outline"

  #     - type: "glance"
  #       entities:
  #         - entity: "device_tracker.julia_s_iphone_8"
  #           name: "Ju"
  #         - entity: "sensor.julia_s_iphone_8_interval"
  #           name: "Interval"
  #         - entity: "sensor.julia_s_iphone_8_zone_distance"
  #           name: "Distance"
  #         - entity: "sensor.julia_s_iphone_8_travel_time"
  #           name: "TravTime"
  #         - entity: "sensor.julia_s_iphone_8_next_update"
  #           name: "NextUpdt"
  #         - entity: "sensor.julia_s_iphone_8_dir_of_travel"
  #           name: "Direction"
  #         - entity: "sensor.julia_s_iphone_8_travel_distance"
  #           name: "TravDist"
  #         - entity: "sensor.julia_s_iphone_8_last_located"
  #           name: "Located"
  #         - entity: "sensor.julia_s_iphone_8_last_update"
  #           name: "LastUpdt"
  #       show_icon: false
  #       state_color: true
  #       title: "Ju"
  #     - type: "entities"
  #       entities:
  #         - entity: "sensor.julia_s_iphone_8_info"
  #           name: "Info - Ju"
  #           icon: "mdi:information-outline"

  #     - type: "glance"
  #       entities:
  #         - entity: "device_tracker.iphone"
  #           name: "Dan"
  #         - entity: "sensor.iphone_interval"
  #           name: "Interval"
  #         - entity: "sensor.iphone_zone_distance"
  #           name: "Distance"
  #         - entity: "sensor.iphone_travel_time"
  #           name: "TravTime"
  #         - entity: "sensor.iphone_next_update"
  #           name: "NextUpdt"
  #         - entity: "sensor.iphone_dir_of_travel"
  #           name: "Direction"
  #         - entity: "sensor.iphone_travel_distance"
  #           name: "TravDist"
  #         - entity: "sensor.iphone_last_located"
  #           name: "Located"
  #         - entity: "sensor.iphone_last_update"
  #           name: "LastUpdt"
  #       show_icon: false
  #       state_color: true
  #       title: "Dan"
  #     - type: "entities"
  #       entities:
  #         - entity: "sensor.iphone_info"
  #           name: "Info - Dan"
  #           icon: "mdi:information-outline"

  #     - type: "glance"
  #       entities:
  #         - entity: "device_tracker.patrice"
  #           name: "Emily"
  #         - entity: "sensor.patrice_interval"
  #           name: "Interval"
  #         - entity: "sensor.patrice_zone_distance"
  #           name: "Distance"
  #         - entity: "sensor.patrice_travel_time"
  #           name: "TravTime"
  #         - entity: "sensor.patrice_next_update"
  #           name: "NextUpdt"
  #         - entity: "sensor.patrice_dir_of_travel"
  #           name: "Direction"
  #         - entity: "sensor.patrice_travel_distance"
  #           name: "TravDist"
  #         - entity: "sensor.patrice_last_located"
  #           name: "Located"
  #         - entity: "sensor.patrice_last_update"
  #           name: "LastUpdt"
  #       show_icon: false
  #       state_color: true
  #       title: "Emily"
  #     - type: "entities"
  #       entities:
  #         - entity: "sensor.patrice_info"
  #           name: "Info - Emily"
  #           icon: "mdi:information-outline"

  #     - type: "custom:icloud3-event-log-card"

  - title: "Sankey Tx"
    icon: "mdi:trending-down"
    badges: []
    type: "custom:layout-card"
    layout_type: "custom:masonry-layout"
    layout:
      width: 1000
    cards:
      - type: "energy-date-selection"  # you can put this anywhere you want but it is required for energy dashboard integration
      - type: "custom:sankey-chart"
        title: "Network Tx Chart"
        height: 800
        unit_prefix: "M"
        # round: 1
        min_box_height: 3
        min_box_distance: 5
        show_states: true
        show_units: false
        show_names: true
        wide: true
        # energy_date_selection: true
        min_state: 0
        sections:
          - entities:
              - entity_id: "sensor.sankey_lvl_1_usw_pro_total_tx_mb"
                type: "remaining_child_state"
                name: "USW Pro 24 PoE Total"
                color: "blue"
                children:
                  - "sensor.sankey_lvl_2_wifi_tx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_bed_a_tv_tx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_bed_a_laptop_tx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_study_tx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_lounge_tx_mb"
                  - "sensor.sankey_lvl_2_uap_iw_hd_garage_tx_mb"
                  - "sensor.sankey_lvl_2_usw_lite_8port_bed_e_tx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_loft_tx_mb"
                  - "sensor.sankey_lvl_2_uap_flexhd_kitchen_tx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_bed_c_left_tx_mb"
                  - "sensor.sankey_lvl_2_usw_pro_total_tx_mb"

          - entities:
              - entity_id: "sensor.sankey_lvl_2_wifi_tx_mb"
                type: "remaining_child_state"
                name: "Wi-Fi"
                color: "red"
                children:
                  - "sensor.sankey_lvl_3_wifi_tx_mb"

              - entity_id: "sensor.sankey_lvl_2_uap_flexhd_kitchen_tx_mb"
                type: "remaining_child_state"
                name: "UAP FlexHD Kitchen"
                color: "red"
                children:
                  - "sensor.sankey_lvl_3_uap_flexhd_kitchen_tx_mb"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_loft_tx_mb"
                type: "remaining_child_state"
                name: "USW Flex Loft"
                children:
                  - "sensor.download_pc_unifi_total_increasing_tx"
                  - "sensor.sankey_lvl_3_u6_lr_tx_mb"
                  - "sensor.front_g3_flex_total_increasing_utility_meter_tx"
                  - "sensor.back_g3_flex_total_increasing_utility_meter_tx"

              - entity_id: "sensor.sankey_lvl_2_uap_iw_hd_garage_tx_mb"
                type: "remaining_child_state"
                name: "UAP IW HD Garage"
                children:
                  - "sensor.solar_battery_1_garage_unifi_total_increasing_tx"
                  - "sensor.solar_battery_2_garage_unifi_total_increasing_tx"
                  - "sensor.sankey_lvl_3_uap_iw_hd_garage_tx_mb"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_lounge_tx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Lounge"
                children:
                  - "sensor.samsung_ue48hu7500t_tv_lounge_unifi_total_increasing_tx"
                  - "sensor.apple_tv_4k_unifi_total_increasing_tx"
                  - "sensor.sankey_lvl_3_uap_flexhd_lounge_tx_mb"

              - entity_id: "sensor.sankey_lvl_2_usw_lite_8port_bed_e_tx_mb"
                type: "remaining_child_state"
                name: "USW Lite 8Port Bed E"
                children:
                  - "sensor.caldigit_thunderbolt_dock_unifi_total_increasing_tx"
                  - "sensor.sony_bravia_kdl_32ex403_tv_unifi_total_increasing_tx"
                  - "sensor.nvidia_shield_bed_e_unifi_total_increasing_tx"
                  - "sensor.big_pc_unifi_total_increasing_tx"
                  - "sensor.middle_hallway_g3_flex_total_increasing_utility_meter_tx"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_bed_a_tv_tx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Bed A TV"
                children:
                  - "sensor.amazon_firestick_4k_rj45_bed_a_unifi_total_increasing_tx"
                  - "sensor.samsung_ue32f4500_tv_bed_a_unifi_total_increasing_tx"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_bed_a_laptop_tx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Bed A Laptop"
                children:
                  - "sensor.apple_usb_c_rj45_unifi_total_increasing_tx"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_study_tx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Study"
                children:
                  - "sensor.apple_imac_2011_unifi_total_increasing_tx"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_bed_c_left_tx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Bed C Left"
                children:
                  - "sensor.arcade_machine_unifi_total_increasing_tx"

              - entity_id: "sensor.sankey_lvl_2_usw_pro_total_tx_mb"
                type: "remaining_child_state"
                name: "USW Pro 24 PoE Direct"
                color: "blue"
                children:
                  - "sensor.nvidia_shield_bed_c_unifi_total_increasing_tx"
                  - "sensor.brother_mfc_j870dw_printer_unifi_total_increasing_tx"
                  - "sensor.home_assistant_unifi_total_increasing_tx"
                  - "sensor.synology_diskstation_ds412_net_unifi_total_increasing_tx"
                  - "sensor.synology_diskstation_ds412_vpn_unifi_total_increasing_tx"
                  - "sensor.xbox_series_x_unifi_total_increasing_tx"
                  - "sensor.yamaha_rx_v777_receiver_bed_c_unifi_total_increasing_tx"

          - entities:
              - entity_id: "sensor.sankey_lvl_3_wifi_tx_mb"
                type: "remaining_child_state"
                name: "Roaming WiFi"
                color: "red"
                children:
                  - "sensor.amazon_kindle_oasis_unifi_total_increasing_tx"
                  - "sensor.apple_macbook_pro_2018_kev_unifi_total_increasing_tx"
                  - "sensor.apple_macbook_pro_2021_kev_unifi_total_increasing_tx"
                  - "sensor.dans_nintendo_switch_unifi_total_increasing_tx"
                  - "sensor.ipad_air_4thgen_emily_unifi_total_increasing_tx"
                  - "sensor.kev_iphone_11_unifi_total_increasing_tx"
                  - "sensor.iphone_12_dan_unifi_total_increasing_tx"
                  - "sensor.iphone_13_emily_patrice_unifi_total_increasing_tx"
                  - "sensor.ju_iphone_8_unifi_total_increasing_tx"
                  - "sensor.msi_gf66_dan_wifi_unifi_total_increasing_tx"

              - entity_id: "sensor.sankey_lvl_3_uap_flexhd_kitchen_tx_mb"
                type: "remaining_child_state"
                name: "UAP FlexHD Kitchen"
                color: "red"
                children:
                  - "sensor.samsung_tumble_dryer_kitchen_unifi_total_increasing_tx"
                  - "sensor.nespresso_vertuo_next_unifi_total_increasing_tx"
                  - "sensor.kitchen_main_lights_unifi_total_increasing_tx"
                  - "sensor.kitchen_utility_lights_unifi_total_increasing_tx"
                  - "sensor.glow_smartmeter_unifi_total_increasing_tx"
                  - "sensor.amazon_echo_plus_kitchen_unifi_total_increasing_tx"
                  - "sensor.amazon_fire_hd_8_tablet_bottomhallway_unifi_total_increasing_tx"
                  - "sensor.bed_b_light_unifi_total_increasing_tx"
                  - "sensor.google_nest_thermostat_bottom_hallway_unifi_total_increasing_tx"
                  - "sensor.lg_therma_v_heat_pump_unifi_total_increasing_tx"
                  - "sensor.amazon_firestick_4k_wifi_kitchen_unifi_total_increasing_tx"
                  - "sensor.bottom_hallway_g3_instant_total_increasing_utility_meter_tx"
                  - "sensor.kitchen_g3_instant_total_increasing_utility_meter_tx"
                  - "sensor.bed_c_g3_instant_total_increasing_utility_meter_tx"

              - entity_id: "sensor.sankey_lvl_3_u6_lr_tx_mb"
                type: "remaining_child_state"
                name: "UAP U6-LR"
                color: "red"
                children:
                  - "sensor.amazon_echo_show_8_bed_e_unifi_total_increasing_tx"
                  - "sensor.amazon_echo_dot_bed_c_unifi_total_increasing_tx"
                  - "sensor.amazon_echo_dot_bed_d_unifi_total_increasing_tx"
                  - "sensor.bed_e_light_unifi_total_increasing_tx"
                  - "sensor.hallway_bottom_light_unifi_total_increasing_tx"
                  - "sensor.calex_smart_siren_unifi_total_increasing_tx"
                  - "sensor.bathroom_light_unifi_total_increasing_tx"
                  - "sensor.bed_a_light_unifi_total_increasing_tx"
                  - "sensor.ensuite_light_unifi_total_increasing_tx"
                  - "sensor.google_nest_thermostat_middle_hallway_unifi_total_increasing_tx"
                  - "sensor.bed_c_light_unifi_total_increasing_tx"
                  - "sensor.logitech_harmony_hub_unifi_total_increasing_tx"
                  - "sensor.meross_smart_switch_unifi_total_increasing_tx"
                  - "sensor.nest_protect_bottom_hallway_unifi_total_increasing_tx"
                  - "sensor.nest_protect_middle_hallway_unifi_total_increasing_tx"
                  - "sensor.nest_protect_top_hallway_unifi_total_increasing_tx"
                  - "sensor.study_light_unifi_total_increasing_tx"

              - entity_id: "sensor.sankey_lvl_3_uap_iw_hd_garage_tx_mb"
                type: "remaining_child_state"
                name: "UAP IW HD Garage WiFi"
                color: "red"
                children:
                  - "sensor.worx_robot_mower_unifi_total_increasing_tx"
                  - "sensor.backdoor_light_unifi_total_increasing_tx"
                  - "sensor.amazon_echo_flex_garage_unifi_total_increasing_tx"

              - entity_id: "sensor.sankey_lvl_3_uap_flexhd_lounge_tx_mb"
                type: "remaining_child_state"
                name: "UAP FlexHD Lounge"
                color: "red"
                children:
                  - "sensor.amazon_echo_dot_with_clock_lounge_unifi_total_increasing_tx"
                  - "sensor.amazon_echo_spot_bed_a_unifi_total_increasing_tx"
                  - "sensor.front_door_light_unifi_total_increasing_tx"
                  - "sensor.lounge_light_unifi_total_increasing_tx"
                  - "sensor.doorbell_g4_flex_total_increasing_utility_meter_tx"

          - entities:
              ###### Wifi ######

              ###### Roaming ######
              - entity_id: "sensor.dans_nintendo_switch_unifi_total_increasing_tx"
                type: "entity"
                name: "Nintendo Switch Dan"
                color: "red"
                children: []
              - entity_id: "sensor.ipad_air_4thgen_emily_unifi_total_increasing_tx"
                type: "entity"
                name: "iPad Air Emily"
                color: "red"
                children: []
              - entity_id: "sensor.kev_iphone_11_unifi_total_increasing_tx"
                type: "entity"
                name: "iPhone 11 Kev"
                color: "red"
                children: []
              - entity_id: "sensor.iphone_12_dan_unifi_total_increasing_tx"
                type: "entity"
                name: "iPhone 12 Dan"
                color: "red"
                children: []
              - entity_id: "sensor.msi_gf66_dan_wifi_unifi_total_increasing_tx"
                type: "entity"
                name: "MSI GF66 Laptop Dan"
                color: "red"
                children: []
              - entity_id: "sensor.ju_iphone_8_unifi_total_increasing_tx"
                type: "entity"
                name: "iPhone 8 Ju"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_kindle_oasis_unifi_total_increasing_tx"
                type: "entity"
                name: "Kindle Oasis Kev"
                color: "red"
                children: []
              - entity_id: "sensor.apple_macbook_pro_2018_kev_unifi_total_increasing_tx"
                type: "entity"
                name: "Apple MacBook 2018 Kev"
                color: "red"
                children: []
              - entity_id: "sensor.apple_macbook_pro_2021_kev_unifi_total_increasing_tx"
                type: "entity"
                name: "Apple MacBook 2021 Accenture"
                color: "red"
                children: []
              - entity_id: "sensor.iphone_13_emily_patrice_unifi_total_increasing_tx"
                type: "entity"
                name: "iPhone 13 Emily"
                color: "red"
                children: []

              ###### Kitchen ######
              - entity_id: "sensor.amazon_firestick_4k_wifi_kitchen_unifi_total_increasing_tx"
                type: "entity"
                name: "Amazon FireStick Kitchen"
                color: "purple"
                children: []
              - entity_id: "sensor.amazon_echo_plus_kitchen_unifi_total_increasing_tx"
                type: "entity"
                name: "Echo Plus Kitchen"
                color: "red"
                children: []
              - entity_id: "sensor.samsung_tumble_dryer_kitchen_unifi_total_increasing_tx"
                type: "entity"
                name: "Samsung Tumble Dryer"
                color: "red"
                children: []
              - entity_id: "sensor.nespresso_vertuo_next_unifi_total_increasing_tx"
                type: "entity"
                name: "Nespresso Coffee Maker"
                color: "red"
                children: []
              - entity_id: "sensor.kitchen_main_lights_unifi_total_increasing_tx"
                type: "entity"
                name: "Kitchen Main Light"
                color: "red"
                children: []
              - entity_id: "sensor.kitchen_utility_lights_unifi_total_increasing_tx"
                type: "entity"
                name: "Kitchen Utility Light"
                color: "red"
                children: []
              - entity_id: "sensor.lg_therma_v_heat_pump_unifi_total_increasing_tx"
                type: "entity"
                name: "LG Therma Heat Pump"
                color: "red"
                children: []
              - entity_id: "sensor.glow_smartmeter_unifi_total_increasing_tx"
                type: "entity"
                name: "Hildebrand Glow Smartmeter"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_fire_hd_8_tablet_bottomhallway_unifi_total_increasing_tx"
                type: "entity"
                name: "Fire Tablet Bottom Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.google_nest_thermostat_bottom_hallway_unifi_total_increasing_tx"
                type: "entity"
                name: "Nest Thermostat Bottom Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.bed_b_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Bed B Light"
                color: "red"
                children: []
              - entity_id: "sensor.bed_b_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Bed B Light"
                color: "red"
                children: []
              - entity_id: "sensor.kitchen_g3_instant_total_increasing_utility_meter_tx"
                type: "entity"
                name: "Kitchen G3 Instant Camera"
                color: "green"
                children: []
              - entity_id: "sensor.bottom_hallway_g3_instant_total_increasing_utility_meter_tx"
                type: "entity"
                name: "Bottom Hallway G3 Instant Camera"
                color: "green"
                children: []
              - entity_id: "sensor.bed_c_g3_instant_total_increasing_utility_meter_tx"
                type: "entity"
                name: "Bed C G3 Instant Camera"
                color: "green"
                children: []

              ###### U6 ######
              - entity_id: "sensor.amazon_echo_dot_bed_c_unifi_total_increasing_tx"
                type: "entity"
                name: "Echo Dot Bed C"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_echo_dot_bed_d_unifi_total_increasing_tx"
                type: "entity"
                name: "Echo Dot Bed D"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_echo_show_8_bed_e_unifi_total_increasing_tx"
                type: "entity"
                name: "Echo Show 8 Bed E"
                color: "red"
                children: []
              - entity_id: "sensor.bathroom_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Bathroom Light"
                color: "red"
                children: []
              - entity_id: "sensor.bed_a_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Bed A Light"
                color: "red"
                children: []
              - entity_id: "sensor.bed_c_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Bed C Light"
                color: "red"
                children: []
              - entity_id: "sensor.bed_e_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Bed E Light"
                color: "red"
                children: []
              - entity_id: "sensor.hallway_bottom_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Bottom Hallway Light"
                color: "red"
                children: []
              - entity_id: "sensor.calex_smart_siren_unifi_total_increasing_tx"
                type: "entity"
                name: "Calex Smart Siren"
                color: "red"
                children: []
              - entity_id: "sensor.ensuite_light_unifi_total_increasing_tx"
                type: "entity"
                name: "En-suite Light"
                color: "red"
                children: []
              - entity_id: "sensor.google_nest_thermostat_middle_hallway_unifi_total_increasing_tx"
                type: "entity"
                name: "Nest Thermostat Middle Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.logitech_harmony_hub_unifi_total_increasing_tx"
                type: "entity"
                name: "Harmony Hub"
                color: "red"
                children: []
              - entity_id: "sensor.meross_smart_switch_unifi_total_increasing_tx"
                type: "entity"
                name: "Meross Smart Switch"
                color: "red"
                children: []
              - entity_id: "sensor.nest_protect_bottom_hallway_unifi_total_increasing_tx"
                type: "entity"
                name: "Nest Protect Bottom Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.nest_protect_middle_hallway_unifi_total_increasing_tx"
                type: "entity"
                name: "Nest Protect Middle Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.nest_protect_top_hallway_unifi_total_increasing_tx"
                type: "entity"
                name: "Nest Protect Top Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.study_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Study Light"
                color: "red"
                children: []

              ###### Garage ######
              - entity_id: "sensor.amazon_echo_flex_garage_unifi_total_increasing_tx"
                type: "entity"
                name: "Echo Flex Garage"
                color: "red"
                children: []
              - entity_id: "sensor.worx_robot_mower_unifi_total_increasing_tx"
                type: "entity"
                name: "Worx Robot Mower"
                color: "red"
                children: []
              - entity_id: "sensor.backdoor_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Backdoor Light"
                color: "red"
                children: []

              ###### Lounge ######
              - entity_id: "sensor.amazon_echo_dot_with_clock_lounge_unifi_total_increasing_tx"
                type: "entity"
                name: "Echo Dot with Clock Lounge"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_echo_spot_bed_a_unifi_total_increasing_tx"
                type: "entity"
                name: "Echo Spot Bed A"
                color: "red"
                children: []
              - entity_id: "sensor.lounge_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Lounge Light"
                color: "red"
                children: []
              - entity_id: "sensor.front_door_light_unifi_total_increasing_tx"
                type: "entity"
                name: "Frontdoor Light"
                color: "red"
                children: []
              - entity_id: "sensor.doorbell_g4_flex_total_increasing_utility_meter_tx"
                type: "entity"
                name: "Doorbell G4 Camera"
                color: "green"
                children: []


              ###### Wired ######

              ###### Loft ######
              - entity_id: "sensor.download_pc_unifi_total_increasing_tx"
                type: "entity"
                name: "Download PC"
                children: []
              - entity_id: "sensor.front_g3_flex_total_increasing_utility_meter_tx"
                type: "entity"
                name: "Front G3 Flex Camera"
                color: "green"
                children: []
              - entity_id: "sensor.back_g3_flex_total_increasing_utility_meter_tx"
                type: "entity"
                name: "Back G3 Flex Camera"
                color: "green"
                children: []

              ###### Garage ######
              - entity_id: "sensor.solar_battery_1_garage_unifi_total_increasing_tx"
                type: "entity"
                name: "Solar Battery 1"
                children: []
              - entity_id: "sensor.solar_battery_2_garage_unifi_total_increasing_tx"
                type: "entity"
                name: "Solar Battery 2"
                children: []


              ###### Lounge ######
              - entity_id: "sensor.samsung_ue48hu7500t_tv_lounge_unifi_total_increasing_tx"
                type: "entity"
                name: "Samsung TV Lounge"
                color: "purple"
                children: []
              - entity_id: "sensor.apple_tv_4k_unifi_total_increasing_tx"
                type: "entity"
                name: "Apple TV 4k Lounge"
                color: "purple"
                children: []


              ###### Bed E ######
              - entity_id: "sensor.caldigit_thunderbolt_dock_unifi_total_increasing_tx"
                type: "entity"
                name: "Caldigit Dock"
                children: []
              - entity_id: "sensor.sony_bravia_kdl_32ex403_tv_unifi_total_increasing_tx"
                type: "entity"
                name: "Sony Bravia TV"
                color: "purple"
                children: []
              - entity_id: "sensor.nvidia_shield_bed_e_unifi_total_increasing_tx"
                type: "entity"
                name: "NVidia Shield Bed E"
                color: "purple"
                children: []
              - entity_id: "sensor.big_pc_unifi_total_increasing_tx"
                type: "entity"
                name: "Big PC"
                children: []
              - entity_id: "sensor.middle_hallway_g3_flex_total_increasing_utility_meter_tx"
                type: "entity"
                name: "Middle Hallway G3 Flex Camera"
                color: "green"
                children: []


              ###### Bed A ######
              - entity_id: "sensor.amazon_firestick_4k_rj45_bed_a_unifi_total_increasing_tx"
                type: "entity"
                name: "Amazon FireStick Bed A"
                color: "purple"
                children: []
              - entity_id: "sensor.samsung_ue32f4500_tv_bed_a_unifi_total_increasing_tx"
                type: "entity"
                name: "Samsung TV Bed A"
                color: "purple"
                children: []


              ###### Bed A Laptop ######
              - entity_id: "sensor.apple_usb_c_rj45_unifi_total_increasing_tx"
                type: "entity"
                name: "MacBook Pro USB-C to RJ45 adapter"
                children: []


              ###### Study ######
              - entity_id: "sensor.apple_imac_2011_unifi_total_increasing_tx"
                type: "entity"
                name: "Apple iMac 2011"
                children: []


              ###### Bed C ######
              - entity_id: "sensor.arcade_machine_unifi_total_increasing_tx"
                type: "entity"
                name: "Arcade Machine"
                children: []
              - entity_id: "sensor.brother_mfc_j870dw_printer_unifi_total_increasing_tx"
                type: "entity"
                name: "Brother Printer"
                children: []
              - entity_id: "sensor.nvidia_shield_bed_c_unifi_total_increasing_tx"
                type: "entity"
                name: "NVidia Shield Bed C"
                color: "purple"
                children: []
              - entity_id: "sensor.home_assistant_unifi_total_increasing_tx"
                type: "entity"
                name: "Home Assistant"
                children: []
              - entity_id: "sensor.synology_diskstation_ds412_net_unifi_total_increasing_tx"
                type: "entity"
                name: "Synology NAS"
                children: []
              - entity_id: "sensor.synology_diskstation_ds412_vpn_unifi_total_increasing_tx"
                type: "entity"
                name: "Synology NAS VPN"
                children: []
              - entity_id: "sensor.xbox_series_x_unifi_total_increasing_tx"
                type: "entity"
                name: "Xbox Series X"
                children: []
              - entity_id: "sensor.yamaha_rx_v777_receiver_bed_c_unifi_total_increasing_tx"
                type: "entity"
                name: "Yamaha Reciever"
                children: []

  - title: "Sankey Rx"
    icon: "mdi:trending-up"
    badges: []
    type: "custom:layout-card"
    layout_type: "custom:masonry-layout"
    layout:
      width: 1000
    cards:
      - type: "energy-date-selection"  # you can put this anywhere you want but it is required for energy dashboard integration
      - type: "custom:sankey-chart"
        title: "Network Rx Chart"
        height: 800
        unit_prefix: "M"
        # round: 1
        min_box_height: 3
        min_box_distance: 5
        show_states: true
        show_units: false
        show_names: true
        wide: true
        # energy_date_selection: true
        min_state: 0
        sections:
          - entities:
              - entity_id: "sensor.sankey_lvl_1_usw_pro_total_rx_mb"
                type: "remaining_child_state"
                name: "USW Pro 24 PoE Total"
                color: "blue"
                children:
                  - "sensor.sankey_lvl_2_wifi_rx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_bed_a_tv_rx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_bed_a_laptop_rx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_study_rx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_lounge_rx_mb"
                  - "sensor.sankey_lvl_2_uap_iw_hd_garage_rx_mb"
                  - "sensor.sankey_lvl_2_usw_lite_8port_bed_e_rx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_loft_rx_mb"
                  - "sensor.sankey_lvl_2_uap_flexhd_kitchen_rx_mb"
                  - "sensor.sankey_lvl_2_usw_flex_mini_bed_c_left_rx_mb"
                  - "sensor.sankey_lvl_2_usw_pro_total_rx_mb"

          - entities:
              - entity_id: "sensor.sankey_lvl_2_wifi_rx_mb"
                type: "remaining_child_state"
                name: "Wi-Fi"
                color: "red"
                children:
                  - "sensor.sankey_lvl_3_wifi_rx_mb"

              - entity_id: "sensor.sankey_lvl_2_uap_flexhd_kitchen_rx_mb"
                type: "remaining_child_state"
                name: "UAP FlexHD Kitchen"
                color: "red"
                children:
                  - "sensor.sankey_lvl_3_uap_flexhd_kitchen_rx_mb"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_loft_rx_mb"
                type: "remaining_child_state"
                name: "USW Flex Loft"
                children:
                  - "sensor.download_pc_unifi_total_increasing_rx"
                  - "sensor.sankey_lvl_3_u6_lr_rx_mb"
                  - "sensor.front_g3_flex_total_increasing_utility_meter_rx"
                  - "sensor.back_g3_flex_total_increasing_utility_meter_rx"

              - entity_id: "sensor.sankey_lvl_2_uap_iw_hd_garage_rx_mb"
                type: "remaining_child_state"
                name: "UAP IW HD Garage"
                children:
                  - "sensor.solar_battery_1_garage_unifi_total_increasing_rx"
                  - "sensor.solar_battery_2_garage_unifi_total_increasing_rx"
                  - "sensor.sankey_lvl_3_uap_iw_hd_garage_rx_mb"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_lounge_rx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Lounge"
                children:
                  - "sensor.samsung_ue48hu7500t_tv_lounge_unifi_total_increasing_rx"
                  - "sensor.apple_tv_4k_unifi_total_increasing_rx"
                  - "sensor.sankey_lvl_3_uap_flexhd_lounge_rx_mb"

              - entity_id: "sensor.sankey_lvl_2_usw_lite_8port_bed_e_rx_mb"
                type: "remaining_child_state"
                name: "USW Lite 8Port Bed E"
                children:
                  - "sensor.caldigit_thunderbolt_dock_unifi_total_increasing_rx"
                  - "sensor.sony_bravia_kdl_32ex403_tv_unifi_total_increasing_rx"
                  - "sensor.nvidia_shield_bed_e_unifi_total_increasing_rx"
                  - "sensor.big_pc_unifi_total_increasing_rx"
                  - "sensor.middle_hallway_g3_flex_total_increasing_utility_meter_rx"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_bed_a_tv_rx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Bed A TV"
                children:
                  - "sensor.amazon_firestick_4k_rj45_bed_a_unifi_total_increasing_rx"
                  - "sensor.samsung_ue32f4500_tv_bed_a_unifi_total_increasing_rx"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_bed_a_laptop_rx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Bed A Laptop"
                children:
                  - "sensor.apple_usb_c_rj45_unifi_total_increasing_rx"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_study_rx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Study"
                children:
                  - "sensor.apple_imac_2011_unifi_total_increasing_rx"

              - entity_id: "sensor.sankey_lvl_2_usw_flex_mini_bed_c_left_rx_mb"
                type: "remaining_child_state"
                name: "USW Flex Mini Bed C Left"
                children:
                  - "sensor.arcade_machine_unifi_total_increasing_rx"

              - entity_id: "sensor.sankey_lvl_2_usw_pro_total_rx_mb"
                type: "remaining_child_state"
                name: "USW Pro 24 PoE Direct"
                color: "blue"
                children:
                  - "sensor.nvidia_shield_bed_c_unifi_total_increasing_rx"
                  - "sensor.brother_mfc_j870dw_printer_unifi_total_increasing_rx"
                  - "sensor.home_assistant_unifi_total_increasing_rx"
                  - "sensor.synology_diskstation_ds412_net_unifi_total_increasing_rx"
                  - "sensor.synology_diskstation_ds412_vpn_unifi_total_increasing_rx"
                  - "sensor.xbox_series_x_unifi_total_increasing_rx"
                  - "sensor.yamaha_rx_v777_receiver_bed_c_unifi_total_increasing_rx"

          - entities:
              - entity_id: "sensor.sankey_lvl_3_wifi_rx_mb"
                type: "remaining_child_state"
                name: "Roaming WiFi"
                color: "red"
                children:
                  - "sensor.amazon_kindle_oasis_unifi_total_increasing_rx"
                  - "sensor.apple_macbook_pro_2018_kev_unifi_total_increasing_rx"
                  - "sensor.apple_macbook_pro_2021_kev_unifi_total_increasing_rx"
                  - "sensor.dans_nintendo_switch_unifi_total_increasing_rx"
                  - "sensor.ipad_air_4thgen_emily_unifi_total_increasing_rx"
                  - "sensor.kev_iphone_11_unifi_total_increasing_rx"
                  - "sensor.iphone_12_dan_unifi_total_increasing_rx"
                  - "sensor.iphone_13_emily_patrice_unifi_total_increasing_rx"
                  - "sensor.ju_iphone_8_unifi_total_increasing_rx"
                  - "sensor.msi_gf66_dan_wifi_unifi_total_increasing_rx"

              - entity_id: "sensor.sankey_lvl_3_uap_flexhd_kitchen_rx_mb"
                type: "remaining_child_state"
                name: "UAP FlexHD Kitchen"
                color: "red"
                children:
                  - "sensor.samsung_tumble_dryer_kitchen_unifi_total_increasing_rx"
                  - "sensor.nespresso_vertuo_next_unifi_total_increasing_rx"
                  - "sensor.kitchen_main_lights_unifi_total_increasing_rx"
                  - "sensor.kitchen_utility_lights_unifi_total_increasing_rx"
                  - "sensor.glow_smartmeter_unifi_total_increasing_rx"
                  - "sensor.amazon_echo_plus_kitchen_unifi_total_increasing_rx"
                  - "sensor.amazon_fire_hd_8_tablet_bottomhallway_unifi_total_increasing_rx"
                  - "sensor.bed_b_light_unifi_total_increasing_rx"
                  - "sensor.google_nest_thermostat_bottom_hallway_unifi_total_increasing_rx"
                  - "sensor.lg_therma_v_heat_pump_unifi_total_increasing_rx"
                  - "sensor.amazon_firestick_4k_wifi_kitchen_unifi_total_increasing_rx"
                  - "sensor.bottom_hallway_g3_instant_total_increasing_utility_meter_rx"
                  - "sensor.kitchen_g3_instant_total_increasing_utility_meter_rx"
                  - "sensor.bed_c_g3_instant_total_increasing_utility_meter_rx"

              - entity_id: "sensor.sankey_lvl_3_u6_lr_rx_mb"
                type: "remaining_child_state"
                name: "UAP U6-LR"
                color: "red"
                children:
                  - "sensor.amazon_echo_show_8_bed_e_unifi_total_increasing_rx"
                  - "sensor.amazon_echo_dot_bed_c_unifi_total_increasing_rx"
                  - "sensor.amazon_echo_dot_bed_d_unifi_total_increasing_rx"
                  - "sensor.bed_e_light_unifi_total_increasing_rx"
                  - "sensor.hallway_bottom_light_unifi_total_increasing_rx"
                  - "sensor.calex_smart_siren_unifi_total_increasing_rx"
                  - "sensor.bathroom_light_unifi_total_increasing_rx"
                  - "sensor.bed_a_light_unifi_total_increasing_rx"
                  - "sensor.ensuite_light_unifi_total_increasing_rx"
                  - "sensor.google_nest_thermostat_middle_hallway_unifi_total_increasing_rx"
                  - "sensor.bed_c_light_unifi_total_increasing_rx"
                  - "sensor.logitech_harmony_hub_unifi_total_increasing_rx"
                  - "sensor.meross_smart_switch_unifi_total_increasing_rx"
                  - "sensor.nest_protect_bottom_hallway_unifi_total_increasing_rx"
                  - "sensor.nest_protect_middle_hallway_unifi_total_increasing_rx"
                  - "sensor.nest_protect_top_hallway_unifi_total_increasing_rx"
                  - "sensor.study_light_unifi_total_increasing_rx"

              - entity_id: "sensor.sankey_lvl_3_uap_iw_hd_garage_rx_mb"
                type: "remaining_child_state"
                name: "UAP IW HD Garage WiFi"
                color: "red"
                children:
                  - "sensor.worx_robot_mower_unifi_total_increasing_rx"
                  - "sensor.backdoor_light_unifi_total_increasing_rx"
                  - "sensor.amazon_echo_flex_garage_unifi_total_increasing_rx"

              - entity_id: "sensor.sankey_lvl_3_uap_flexhd_lounge_rx_mb"
                type: "remaining_child_state"
                name: "UAP FlexHD Lounge"
                color: "red"
                children:
                  - "sensor.amazon_echo_dot_with_clock_lounge_unifi_total_increasing_rx"
                  - "sensor.amazon_echo_spot_bed_a_unifi_total_increasing_rx"
                  - "sensor.front_door_light_unifi_total_increasing_rx"
                  - "sensor.lounge_light_unifi_total_increasing_rx"
                  - "sensor.doorbell_g4_flex_total_increasing_utility_meter_rx"

          - entities:
              ###### Wifi ######

              ###### Roaming ######
              - entity_id: "sensor.dans_nintendo_switch_unifi_total_increasing_rx"
                type: "entity"
                name: "Nintendo Switch Dan"
                color: "red"
                children: []
              - entity_id: "sensor.ipad_air_4thgen_emily_unifi_total_increasing_rx"
                type: "entity"
                name: "iPad Air Emily"
                color: "red"
                children: []
              - entity_id: "sensor.kev_iphone_11_unifi_total_increasing_rx"
                type: "entity"
                name: "iPhone 11 Kev"
                color: "red"
                children: []
              - entity_id: "sensor.iphone_12_dan_unifi_total_increasing_rx"
                type: "entity"
                name: "iPhone 12 Dan"
                color: "red"
                children: []
              - entity_id: "sensor.msi_gf66_dan_wifi_unifi_total_increasing_rx"
                type: "entity"
                name: "MSI GF66 Laptop Dan"
                color: "red"
                children: []
              - entity_id: "sensor.ju_iphone_8_unifi_total_increasing_rx"
                type: "entity"
                name: "iPhone 8 Ju"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_kindle_oasis_unifi_total_increasing_rx"
                type: "entity"
                name: "Kindle Oasis Kev"
                color: "red"
                children: []
              - entity_id: "sensor.apple_macbook_pro_2018_kev_unifi_total_increasing_rx"
                type: "entity"
                name: "Apple MacBook 2018 Kev"
                color: "red"
                children: []
              - entity_id: "sensor.apple_macbook_pro_2021_kev_unifi_total_increasing_rx"
                type: "entity"
                name: "Apple MacBook 2021 Accenture"
                color: "red"
                children: []
              - entity_id: "sensor.iphone_13_emily_patrice_unifi_total_increasing_rx"
                type: "entity"
                name: "iPhone 13 Emily"
                color: "red"
                children: []

              ###### Kitchen ######
              - entity_id: "sensor.amazon_firestick_4k_wifi_kitchen_unifi_total_increasing_rx"
                type: "entity"
                name: "Amazon FireStick Kitchen"
                color: "purple"
                children: []
              - entity_id: "sensor.amazon_echo_plus_kitchen_unifi_total_increasing_rx"
                type: "entity"
                name: "Echo Plus Kitchen"
                color: "red"
                children: []
              - entity_id: "sensor.samsung_tumble_dryer_kitchen_unifi_total_increasing_rx"
                type: "entity"
                name: "Samsung Tumble Dryer"
                color: "red"
                children: []
              - entity_id: "sensor.nespresso_vertuo_next_unifi_total_increasing_rx"
                type: "entity"
                name: "Nespresso Coffee Maker"
                color: "red"
                children: []
              - entity_id: "sensor.kitchen_main_lights_unifi_total_increasing_rx"
                type: "entity"
                name: "Kitchen Main Light"
                color: "red"
                children: []
              - entity_id: "sensor.kitchen_utility_lights_unifi_total_increasing_rx"
                type: "entity"
                name: "Kitchen Utility Light"
                color: "red"
                children: []
              - entity_id: "sensor.lg_therma_v_heat_pump_unifi_total_increasing_rx"
                type: "entity"
                name: "LG Therma Heat Pump"
                color: "red"
                children: []
              - entity_id: "sensor.glow_smartmeter_unifi_total_increasing_rx"
                type: "entity"
                name: "Hildebrand Glow Smartmeter"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_fire_hd_8_tablet_bottomhallway_unifi_total_increasing_rx"
                type: "entity"
                name: "Fire Tablet Bottom Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.google_nest_thermostat_bottom_hallway_unifi_total_increasing_rx"
                type: "entity"
                name: "Nest Thermostat Bottom Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.bed_b_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Bed B Light"
                color: "red"
                children: []
              - entity_id: "sensor.bed_b_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Bed B Light"
                color: "red"
                children: []
              - entity_id: "sensor.kitchen_g3_instant_total_increasing_utility_meter_rx"
                type: "entity"
                name: "Kitchen G3 Instant Camera"
                color: "green"
                children: []
              - entity_id: "sensor.bottom_hallway_g3_instant_total_increasing_utility_meter_rx"
                type: "entity"
                name: "Bottom Hallway G3 Instant Camera"
                color: "green"
                children: []
              - entity_id: "sensor.bed_c_g3_instant_total_increasing_utility_meter_rx"
                type: "entity"
                name: "Bed C G3 Instant Camera"
                color: "green"
                children: []

              ###### U6 ######
              - entity_id: "sensor.amazon_echo_dot_bed_c_unifi_total_increasing_rx"
                type: "entity"
                name: "Echo Dot Bed C"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_echo_dot_bed_d_unifi_total_increasing_rx"
                type: "entity"
                name: "Echo Dot Bed D"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_echo_show_8_bed_e_unifi_total_increasing_rx"
                type: "entity"
                name: "Echo Show 8 Bed E"
                color: "red"
                children: []
              - entity_id: "sensor.bathroom_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Bathroom Light"
                color: "red"
                children: []
              - entity_id: "sensor.bed_a_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Bed A Light"
                color: "red"
                children: []
              - entity_id: "sensor.bed_c_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Bed C Light"
                color: "red"
                children: []
              - entity_id: "sensor.bed_e_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Bed E Light"
                color: "red"
                children: []
              - entity_id: "sensor.hallway_bottom_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Bottom Hallway Light"
                color: "red"
                children: []
              - entity_id: "sensor.calex_smart_siren_unifi_total_increasing_rx"
                type: "entity"
                name: "Calex Smart Siren"
                color: "red"
                children: []
              - entity_id: "sensor.ensuite_light_unifi_total_increasing_rx"
                type: "entity"
                name: "En-suite Light"
                color: "red"
                children: []
              - entity_id: "sensor.google_nest_thermostat_middle_hallway_unifi_total_increasing_rx"
                type: "entity"
                name: "Nest Thermostat Middle Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.logitech_harmony_hub_unifi_total_increasing_rx"
                type: "entity"
                name: "Harmony Hub"
                color: "red"
                children: []
              - entity_id: "sensor.meross_smart_switch_unifi_total_increasing_rx"
                type: "entity"
                name: "Meross Smart Switch"
                color: "red"
                children: []
              - entity_id: "sensor.nest_protect_bottom_hallway_unifi_total_increasing_rx"
                type: "entity"
                name: "Nest Protect Bottom Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.nest_protect_middle_hallway_unifi_total_increasing_rx"
                type: "entity"
                name: "Nest Protect Middle Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.nest_protect_top_hallway_unifi_total_increasing_rx"
                type: "entity"
                name: "Nest Protect Top Hallway"
                color: "red"
                children: []
              - entity_id: "sensor.study_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Study Light"
                color: "red"
                children: []

              ###### Garage ######
              - entity_id: "sensor.amazon_echo_flex_garage_unifi_total_increasing_rx"
                type: "entity"
                name: "Echo Flex Garage"
                color: "red"
                children: []
              - entity_id: "sensor.worx_robot_mower_unifi_total_increasing_rx"
                type: "entity"
                name: "Worx Robot Mower"
                color: "red"
                children: []
              - entity_id: "sensor.backdoor_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Backdoor Light"
                color: "red"
                children: []

              ###### Lounge ######
              - entity_id: "sensor.amazon_echo_dot_with_clock_lounge_unifi_total_increasing_rx"
                type: "entity"
                name: "Echo Dot with Clock Lounge"
                color: "red"
                children: []
              - entity_id: "sensor.amazon_echo_spot_bed_a_unifi_total_increasing_rx"
                type: "entity"
                name: "Echo Spot Bed A"
                color: "red"
                children: []
              - entity_id: "sensor.lounge_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Lounge Light"
                color: "red"
                children: []
              - entity_id: "sensor.front_door_light_unifi_total_increasing_rx"
                type: "entity"
                name: "Frontdoor Light"
                color: "red"
                children: []
              - entity_id: "sensor.doorbell_g4_flex_total_increasing_utility_meter_rx"
                type: "entity"
                name: "Doorbell G4 Camera"
                color: "green"
                children: []


              ###### Wired ######

              ###### Loft ######
              - entity_id: "sensor.download_pc_unifi_total_increasing_rx"
                type: "entity"
                name: "Download PC"
                children: []
              - entity_id: "sensor.front_g3_flex_total_increasing_utility_meter_rx"
                type: "entity"
                name: "Front G3 Flex Camera"
                color: "green"
                children: []
              - entity_id: "sensor.back_g3_flex_total_increasing_utility_meter_rx"
                type: "entity"
                name: "Back G3 Flex Camera"
                color: "green"
                children: []

              ###### Garage ######
              - entity_id: "sensor.solar_battery_1_garage_unifi_total_increasing_rx"
                type: "entity"
                name: "Solar Battery 1"
                children: []
              - entity_id: "sensor.solar_battery_2_garage_unifi_total_increasing_rx"
                type: "entity"
                name: "Solar Battery 2"
                children: []


              ###### Lounge ######
              - entity_id: "sensor.samsung_ue48hu7500t_tv_lounge_unifi_total_increasing_rx"
                type: "entity"
                name: "Samsung TV Lounge"
                color: "purple"
                children: []
              - entity_id: "sensor.apple_tv_4k_unifi_total_increasing_rx"
                type: "entity"
                name: "Apple TV 4k Lounge"
                color: "purple"
                children: []


              ###### Bed E ######
              - entity_id: "sensor.caldigit_thunderbolt_dock_unifi_total_increasing_rx"
                type: "entity"
                name: "Caldigit Dock"
                children: []
              - entity_id: "sensor.sony_bravia_kdl_32ex403_tv_unifi_total_increasing_rx"
                type: "entity"
                name: "Sony Bravia TV"
                color: "purple"
                children: []
              - entity_id: "sensor.nvidia_shield_bed_e_unifi_total_increasing_rx"
                type: "entity"
                name: "NVidia Shield Bed E"
                color: "purple"
                children: []
              - entity_id: "sensor.big_pc_unifi_total_increasing_rx"
                type: "entity"
                name: "Big PC"
                children: []
              - entity_id: "sensor.middle_hallway_g3_flex_total_increasing_utility_meter_rx"
                type: "entity"
                name: "Middle Hallway G3 Flex Camera"
                color: "green"
                children: []


              ###### Bed A ######
              - entity_id: "sensor.amazon_firestick_4k_rj45_bed_a_unifi_total_increasing_rx"
                type: "entity"
                name: "Amazon FireStick Bed A"
                color: "purple"
                children: []
              - entity_id: "sensor.samsung_ue32f4500_tv_bed_a_unifi_total_increasing_rx"
                type: "entity"
                name: "Samsung TV Bed A"
                color: "purple"
                children: []


              ###### Bed A Laptop ######
              - entity_id: "sensor.apple_usb_c_rj45_unifi_total_increasing_rx"
                type: "entity"
                name: "MacBook Pro USB-C to RJ45 adapter"
                children: []


              ###### Study ######
              - entity_id: "sensor.apple_imac_2011_unifi_total_increasing_rx"
                type: "entity"
                name: "Apple iMac 2011"
                children: []


              ###### Bed C ######
              - entity_id: "sensor.arcade_machine_unifi_total_increasing_rx"
                type: "entity"
                name: "Arcade Machine"
                children: []
              - entity_id: "sensor.brother_mfc_j870dw_printer_unifi_total_increasing_rx"
                type: "entity"
                name: "Brother Printer"
                children: []
              - entity_id: "sensor.nvidia_shield_bed_c_unifi_total_increasing_rx"
                type: "entity"
                name: "NVidia Shield Bed C"
                color: "purple"
                children: []
              - entity_id: "sensor.home_assistant_unifi_total_increasing_rx"
                type: "entity"
                name: "Home Assistant"
                children: []
              - entity_id: "sensor.synology_diskstation_ds412_net_unifi_total_increasing_rx"
                type: "entity"
                name: "Synology NAS"
                children: []
              - entity_id: "sensor.synology_diskstation_ds412_vpn_unifi_total_increasing_rx"
                type: "entity"
                name: "Synology NAS VPN"
                children: []
              - entity_id: "sensor.xbox_series_x_unifi_total_increasing_rx"
                type: "entity"
                name: "Xbox Series X"
                children: []
              - entity_id: "sensor.yamaha_rx_v777_receiver_bed_c_unifi_total_increasing_rx"
                type: "entity"
                name: "Yamaha Reciever"
                children: []
