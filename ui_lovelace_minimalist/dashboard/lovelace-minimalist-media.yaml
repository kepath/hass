---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"
views:
  - title: "Media"
    icon: "mdi:remote-tv"
    theme: "minimalist-mobile"
    cards:
      - type: "horizontal-stack"
        cards:
          - type: "custom:button-card"
            template: "chip_back"
            variables:
              ulm_chip_back_path: "/lovelace-minimalist-home"
          - type: "custom:button-card"
            template:
              - "chip_navigate"
            variables:
              ulm_chip_navigate_path: "/lovelace-minimalist-home"
              ulm_chip_navigate_icon: "mdi:home"
              ulm_chip_navigate_icon_color: "rgba(var(--color-blue),1)"
              ulm_chip_navigate_label_color: "rgba(var(--color-blue),0.2)"
          - type: "custom:button-card"
            template:
              - "chip_navigate"
            variables:
              ulm_chip_navigate_path: "/lovelace-minimalist-rooms"
              ulm_chip_navigate_icon: "mdi:floor-plan"
              ulm_chip_navigate_icon_color: "rgba(var(--color-red),1)"
              ulm_chip_navigate_label_color: "rgba(var(--color-red),0.2)"
          - type: "custom:button-card"
            template:
              - "chip_navigate"
            variables:
              ulm_chip_navigate_path: "/lovelace-minimalist-network"
              ulm_chip_navigate_icon: "mdi:lan"
              ulm_chip_navigate_icon_color: "rgba(var(--color-red),1)"
              ulm_chip_navigate_label_color: "rgba(var(--color-red),0.2)"
          - type: "custom:button-card"
            template:
              - "chip_navigate"
            variables:
              ulm_chip_navigate_path: "/lovelace-minimalist-media"
              ulm_chip_navigate_icon: "mdi:remote-tv"
              ulm_chip_navigate_icon_color: "rgba(var(--color-red),1)"
              ulm_chip_navigate_label_color: "rgba(var(--color-red),0.2)"
          - type: "custom:button-card"
            template:
              - "chip_navigate"
            variables:
              ulm_chip_navigate_path: "/lovelace-minimalist-devices/9"
              ulm_chip_navigate_icon: "mdi:alpha-k-box"
              ulm_chip_navigate_icon_color: "rgba(var(--color-green),1)"
              ulm_chip_navigate_label_color: "rgba(var(--color-green),0.2)"
      # - type: "custom:auto-entities"
      #   card_param: "entity"
      #   show_empty: false
      #   card:
      #     type: "custom:button-card"
      #     template: "card_media_player"
      #     # entity: "this.entity_id"
      #     variables:
      #       ulm_card_media_player_name: "Livingroom Nvidia Shield"
      #   filter:
      #     include:
      #       - group: "group.all_audio_class_media_player"

        # filter:
        #   include:
        #     - group: "group.all_audio_class_media_player"
        #       options:
        #         type: "custom:button-card"
        #         template: "card_media_player"
        #         entity: "this.entity_id"
          # template: >-
          #   {% for media_player in expand('group.all_audio_class_media_player') %}
          #     {{{
          #       'type': 'custom:button-card',
          #       'template': 'card_media_player'
          #     }}}
          #   {% endfor %}

      - type: "custom:auto-entities"
        card_param: "cards"
        card:
          type: "vertical-stack"
        filter:
          include:
            - group: "group.all_audio_class_media_player"
              options:
                type: "custom:button-card"
                template: "card_media_player"
                entity: "this.entity_id"
                variables:
                  ulm_card_media_player_enable_art: true
                  ulm_card_media_player_enable_controls: true
                  ulm_card_media_player_enable_volume_slider: true
                  ulm_card_media_player_enable_volume_buttons: true
                  ulm_card_media_player_collapsible: true
                  ulm_card_media_player_more_info: true
                  ulm_card_media_player_power_button: true
                  # ulm_card_media_player_color: "rgba(var(--color-red),1)"
                  # ulm_card_media_player_force_background_color: true

      - type: "custom:auto-entities"
        card_param: "cards"
        card:
          type: "vertical-stack"
        filter:
          include:
            - group: "group.all_video_class_media_player"
              options:
                type: "custom:button-card"
                template: "card_media_player"
                entity: "this.entity_id"
                variables:
                  ulm_card_media_player_enable_art: true
                  ulm_card_media_player_enable_controls: true
                  ulm_card_media_player_enable_volume_slider: true
                  ulm_card_media_player_enable_volume_buttons: true
                  ulm_card_media_player_collapsible: true
                  ulm_card_media_player_more_info: true
                  ulm_card_media_player_power_button: true
                  ulm_card_media_player_color: "rgba(var(--color-red),1)"
                  ulm_card_media_player_force_background_color: true
      # - type: "custom:auto-entities"
      #   card:
      #     type: "picture-elements"
      #     title: "Playing Media"
      #   filter:
      #     template: >-
      #       {% for media_picture in states.media_player|selectattr('attributes.entity_picture','defined') %}
      #         {{{
      #           'type': 'picture',
      #           'image': state_attr(media_picture.entity_id, 'entity_picture'),
      #           'alt_text': state_attr(media_picture.entity_id, 'friendly_name'),
      #           'tap_action': {
      #             'action': 'more-info'
      #           }
      #         }}}
      #       {% endfor %}


        # filter:
        #   template: >-
        #     {{states.media_player|selectattr('attributes.entity_picture','defined')|map(attribute='entity_id')|list}}
        #   options:
        #     image: >-
        #       {{this.entity_id.attributes.entity_picture}}
        #     alt_text: >-
        #       {{this.entity_id.attributes.friendly_name}}
        #     tap_action:
        #       action: "more-info"

      # - type: "picture"
      #   image: "/api/media_player_proxy/media_player.android_tv_192_168_20_47?token=350852aa5ab0056f2703eb398b3745f43a7d2377e839da659e46df2d52099b48"   # c1ec3e10eb09915f4cf8b2ac0e37336e9c1a43dc3070d76afd0a16161749b58c"
      #   tap_action:
      #     action: "navigate"
      #     navigation_path: "/lovelace/home"
      # - type: "picture"
      #   image: "/api/media_player_proxy/media_player.amazon_firestick_kitchen?token=10ff3e573d69f7703248761d4abab2f79edcfede6f00320d7beffc00c46b08d3"
      #   tap_action:
      #     action: "navigate"
      #     navigation_path: "/lovelace/home"
      # - type: "picture"
      #   image: "/api/media_player_proxy/media_player.amazon_firestick_bed_a?token=64e85c6087cb7d1fae64e3e043a37978a124910ae57ad52cfc447ef9324ea5d6"
      #   tap_action:
      #     action: "navigate"
      #     navigation_path: "/lovelace/home"

      # - type: "picture"
      #   image: "/api/media_player_proxy/media_player.kitchen_echo_plus?token=22b935a9a568c5cde59a81e0271861aeb27271af4935dc7e588562cdd3409f8f"
      #   tap_action:
      #     action: "navigate"
      #     navigation_path: "/lovelace/home"

# {{states.media_player
#   | selectattr('attributes.entity_picture', 'defined')
#   | map(attribute='attributes.entity_picture')
#   | list
# }}

  # - title: "Overview"
  #   icon: "mdi:devices"
  #   theme: "minimalist-mobile"
  #   cards:
  #     - type: "horizontal-stack"
  #       cards:
  #         - type: "custom:button-card"
  #           template: "edge"
  #         - type: "custom:button-card"
  #           template:
  #             - "chip_navigate"
  #           variables:
  #             ulm_chip_navigate_path: "/lovelace-minimalist-home"
  #             ulm_chip_navigate_icon: "mdi:cellphone-text"
  #             ulm_chip_navigate_icon_color: "rgba(var(--color-blue),1)"
  #             ulm_chip_navigate_label_color: "rgba(var(--color-blue),0.2)"
  #     - type: "horizontal-stack"
  #       cards:
  #         - type: "custom:button-card"
  #           template: "edge"
  #     - type: "horizontal-stack"
  #       cards:
  #         - type: "custom:button-card"
  #           template: "edge"
  #         - type: "custom:button-card"
  #           template: "card_navigate"
  #           variables:
  #             ulm_card_navigate_path: "/lovelace-minimalist-media/1"
  #             ulm_card_navigate_title: "Lounge"
  #             ulm_card_navigate_icon: "mdi:television"
  #         - type: "custom:button-card"
  #           template: "card_navigate"
  #           variables:
  #             ulm_card_navigate_path: "/lovelace-minimalist-media/2"
  #             ulm_card_navigate_title: "Bed A"
  #             ulm_card_navigate_icon: "mdi:bed-king"
  #         - type: "custom:button-card"
  #           template: "edge"
  #     - type: "horizontal-stack"
  #       cards:
  #         - type: "custom:button-card"
  #           template: "edge"
  #         - type: "custom:button-card"
  #           template: "card_navigate"
  #           variables:
  #             ulm_card_navigate_path: "/lovelace-minimalist-media/3"
  #             ulm_card_navigate_title: "Bed C"
  #             ulm_card_navigate_icon: "mdi:remote-tv"
  #         - type: "custom:button-card"
  #           template: "card_navigate"
  #           variables:
  #             ulm_card_navigate_path: "/lovelace-minimalist-media/4"
  #             ulm_card_navigate_title: "Bed E"
  #             ulm_card_navigate_icon: "mdi:television-classic"
  #         - type: "custom:button-card"
  #           template: "edge"
  #     - type: "horizontal-stack"
  #       cards:
  #         - type: "custom:button-card"
  #           template: "edge"
  #         - type: "custom:button-card"
  #           template: "card_navigate"
  #           variables:
  #             ulm_card_navigate_path: "/lovelace-minimalist-media/5"
  #             ulm_card_navigate_title: "Kitchen"
  #             ulm_card_navigate_icon: "mdi:fridge-outline"
  #         - type: "custom:button-card"
  #           template: "card_navigate"
  #           variables:
  #             ulm_card_navigate_path: "/lovelace-minimalist-media/6"
  #             ulm_card_navigate_title: "Apple TV"
  #             ulm_card_navigate_icon: "mdi:cast-variant"
  #         - type: "custom:button-card"
  #           template: "edge"
  - title: "Lounge"
    icon: "mdi:television"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "chip_back"
                variables:
                  ulm_chip_back_path: "/lovelace-minimalist-media/0"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_media_player"
                  - "vars_remotecontrol_constants"
                entity: "media_player.nvidia_shield_adb_lounge"
                name: "Nvidia Shield Lounge"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_remotecontrol_nvidiashield_group_power"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_lounge"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_remotecontrol_nvidiashield_group_home"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_lounge"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_remotecontrol_nvidiashield_group_arrows_and_volume"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_lounge"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_remotecontrol_nvidiashield_group_play"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_lounge"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_remotecontrol_nvidiashield_group_apps"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_lounge"
  - title: "Bed A"
    icon: "mdi:bed-king"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "chip_back"
                variables:
                  ulm_chip_back_path: "/lovelace-minimalist-media/0"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_media_player"
                  - "vars_remotecontrol_constants"
                entity: "media_player.amazon_firestick_bed_a_adb"
                name: "Firestick Bed A"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_firestick_group_power"
                  - "card_remotecontrol_group_power"
                variables:
                  entity_id: "media_player.amazon_firestick_bed_a_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_firestick_group_home"
                  - "card_remotecontrol_group_home"
                variables:
                  entity_id: "media_player.amazon_firestick_bed_a_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_firestick_group_arrow_select"
                  - "vars_remotecontrol_firestick_group_volume"
                  - "card_remotecontrol_group_arrows_and_volume"
                variables:
                  entity_id: "media_player.amazon_firestick_bed_a_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_firestick_group_play"
                  - "card_remotecontrol_group_play"
                variables:
                  entity_id: "media_player.amazon_firestick_bed_a_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_firestick_group_channel_selector"
                  - "vars_remotecontrol_firestick_group_numbers"
                  - "card_remotecontrol_group_channel_and_numbers"
                variables:
                  entity_id: "media_player.amazon_firestick_bed_a_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_firestick_group_apps"
                  - "card_remotecontrol_group_apps"
                variables:
                  entity_id: "media_player.amazon_firestick_bed_a_adb"
  - title: "Bed C"
    icon: "mdi:remote-tv"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "chip_back"
                variables:
                  ulm_chip_back_path: "/lovelace-minimalist-media/0"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_media_player"
                  - "vars_remotecontrol_constants"
                entity: "remote.harmony_hub"
                name: "Harmony"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_harmony_remote_group_power"
                entity: "remote.harmony_hub"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_harmony_remote_group_actions"
                  - "variable_definitions_harmony_remote_group_actions"
                entity: "remote.harmony_hub"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_harmony_remote_group_home"
                variables:
                  ulm_card_harmony_remote_group_home_entity: "remote.harmony_hub"
                ulm_card_harmony_remote_group_current_activity: >
                  [[[
                    var currentActivity = 'PowerOff';
                    if (typeof states[variables.ulm_card_remote_group_home_entity].attributes.current_activity !== 'undefined'){
                      currentActivity = states[variables.ulm_card_remote_group_home_entity].attributes.current_activity
                    }
                    return currentActivity;
                  ]]]
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_harmony_remote_group_arrows_and_volume"
                variables:
                  ulm_card_harmony_remote_group_volume_entity: "media_player.rx_v777_reciever_yamaha_integration_bed_c"
                  ulm_card_harmony_remote_group_arrow_select_entity: "remote.harmony_hub"
                ulm_card_harmony_remote_group_current_activity: >
                  [[[
                    var currentActivity = 'PowerOff';
                    if (typeof states[variables.ulm_remotecontrol_group_arrow_select_entity].attributes.current_activity !== 'undefined'){
                      currentActivity = states[variables.ulm_remotecontrol_group_arrow_select_entity].attributes.current_activity
                    }
                    return currentActivity;
                  ]]]

          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_harmony_remote_group_play"
                variables:
                  ulm_card_harmony_remote_group_play_entity: "remote.harmony_hub"
                ulm_card_harmony_remote_group_current_activity: >
                  [[[
                    var currentActivity = 'PowerOff';
                    if (typeof states[variables.ulm_remotecontrol_group_play_entity].attributes.current_activity !== 'undefined'){
                      currentActivity = states[variables.ulm_remotecontrol_group_play_entity].attributes.current_activity
                    }
                    return currentActivity;
                  ]]]
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_harmony_remote_group_numbers"
                variables:
                  ulm_card_harmony_remote_group_numbers_entity: "remote.harmony_hub"
                ulm_card_harmony_remote_group_current_activity: >
                  [[[
                    var currentActivity = 'PowerOff';
                    if (typeof states[variables.ulm_card_remote_group_numbers_entity].attributes.current_activity !== 'undefined'){
                      currentActivity = states[variables.ulm_card_remote_group_numbers_entity].attributes.current_activity
                    }
                    return currentActivity;
                  ]]]
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_harmony_remote_group_colors"
                variables:
                  ulm_card_harmony_remote_group_colors_entity: "remote.harmony_hub"
                ulm_card_harmony_remote_group_current_activity: >
                  [[[
                    var currentActivity = 'PowerOff';
                    if (typeof states[variables.ulm_card_remote_group_colors_entity].attributes.current_activity !== 'undefined'){
                      currentActivity = states[variables.ulm_card_remote_group_colors_entity].attributes.current_activity
                    }
                    return currentActivity;
                  ]]]

  - title: "Bed E"
    icon: "mdi:television-classic"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "chip_back"
                variables:
                  ulm_chip_back_path: "/lovelace-minimalist-media/0"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_media_player"
                  - "ulm_custom_card_kepath_remotecontrol_language_variables"
                  - "vars_adb_androidtv_nvidia_constants"
                entity: "media_player.nvidia_shield_adb_bed_e"
                name: "Nvidia Shield Bed E"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_remotecontrol_group_power"
                  - "vars_remotecontrol_nvidiashield_group_power"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_bed_e"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_nvidiashield_group_home"
                  - "card_remotecontrol_group_home"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_bed_e"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_nvidiashield_group_arrow_select"
                  - "vars_remotecontrol_nvidiashield_group_volume"
                  - "card_remotecontrol_group_arrows_and_volume"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_bed_e"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_nvidiashield_group_play"
                  - "card_remotecontrol_group_play"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_bed_e"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "vars_remotecontrol_nvidiashield_group_apps"
                  - "card_remotecontrol_group_apps"
                variables:
                  entity_id: "media_player.nvidia_shield_adb_bed_e"
  - title: "Kitchen"
    icon: "mdi:fridge-outline"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "chip_back"
                variables:
                  ulm_chip_back_path: "/lovelace-minimalist-media/0"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_media_player"
                  - "vars_remotecontrol_constants"
                entity: "media_player.amazon_fire_tv_kitchen_adb"
                name: "Firestick Kitchen"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_firestick_group_power"
                variables:
                  entity_id: "media_player.amazon_fire_tv_kitchen_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_firestick_group_home"
                variables:
                  entity_id: "media_player.amazon_fire_tv_kitchen_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_firestick_group_arrows_and_volume"
                variables:
                  entity_id: "media_player.amazon_fire_tv_kitchen_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_firestick_group_play"
                variables:
                  entity_id: "media_player.amazon_fire_tv_kitchen_adb"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_firestick_group_apps"
                variables:
                  entity_id: "media_player.amazon_fire_tv_kitchen_adb"
  - title: "Apple TV"
    icon: "mdi:cast-variant"
    theme: "minimalist-mobile"
    cards:
      - type: "vertical-stack"
        cards:
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "chip_back"
                variables:
                  ulm_chip_back_path: "/lovelace-minimalist-media/0"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template:
                  - "card_media_player"
                  - "vars_remotecontrol_constants"
                entity: "media_player.apple_tv_4k_bed_c"
                name: "Apple TV"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_appletv_group_power"
                variables:
                  entity_id: "media_player.apple_tv_4k_bed_c"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_appletv_group_home"
                variables:
                  entity_id: "media_player.apple_tv_4k_bed_c"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_appletv_group_arrows_and_volume"
                variables:
                  entity_id: "media_player.apple_tv_4k_bed_c"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_appletv_group_play"
                variables:
                  entity_id: "media_player.apple_tv_4k_bed_c"
          - type: "horizontal-stack"
            cards:
              - type: "custom:button-card"
                template: "card_remotecontrol_appletv_group_apps"
                variables:
                  entity_id: "media_player.apple_tv_4k_bed_c"
