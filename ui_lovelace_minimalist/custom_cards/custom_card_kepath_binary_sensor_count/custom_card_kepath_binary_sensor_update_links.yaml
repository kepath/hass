---
custom_card_kepath_binary_sensor_update_links:
  variables:
    ulm_card_kepath_binary_sensor_update_links:
      evaluated_object: >
        [[[
          if (variables?.ulm_card_kepath_binary_sensor_update_links) {
            if (variables?.ulm_card_kepath_binary_sensor_update_links?.evaluated_object) {
              return variables.ulm_card_kepath_binary_sensor_update_links.evaluated_object;
            } else {
              return entity.entity_id;
            }
          }
        ]]]
      use_picture: >
        [[[
          var usePicture = true;
          if (variables?.ulm_card_kepath_binary_sensor_update_links) {
            if (variables?.ulm_card_kepath_binary_sensor_update_links?.use_picture) {
              if (typeof variables.ulm_card_kepath_binary_sensor_update_links.use_picture === "boolean") {
                usePicture = variables.ulm_card_kepath_binary_sensor_update_links.use_picture;
              }
            }
          }
          return usePicture;
        ]]]
  show_icon: "[[[ return variables.ulm_card_kepath_binary_sensor_update_links.use_picture ? false : true ]]]"
  show_entity_picture: "[[[ return variables.ulm_card_kepath_binary_sensor_update_links.use_picture ? true : false ]]]"
  entity_picture: >
    [[[
      var entityPicture = null;
      if (states[variables.ulm_card_kepath_binary_sensor_update_links.evaluated_object]?.attributes.entity_picture) {
        entityPicture = states[variables.ulm_card_kepath_binary_sensor_update_links.evaluated_object].attributes.entity_picture;
      }
      return entityPicture;
    ]]]
  hold_action:
    action: >
      [[[
        var holdAction = "more-info";
        if (states[variables.ulm_card_kepath_binary_sensor_update_links.evaluated_object]?.attributes.release_url) {
          holdAction = "url";
        }
        return holdAction;
      ]]]
    url_path: >
      [[[
        var URLPath = null;
        if (states[variables.ulm_card_kepath_binary_sensor_update_links.evaluated_object]?.attributes.release_url) {
          URLPath = states[variables.ulm_card_kepath_binary_sensor_update_links.evaluated_object].attributes.release_url;
        }
        return URLPath;
      ]]]
  double_tap_action:
    action: "more-info"
