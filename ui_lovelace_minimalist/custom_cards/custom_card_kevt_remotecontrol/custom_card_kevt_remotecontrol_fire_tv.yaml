########################################################
#####  AMAZON FIRESTICK CARDS                       ####
########################################################

card_remotecontrol_firestick_group_power:
  type: 'custom:button-card'
  template: layout_group
  triggers_update: all
  variables:
    entity_id:
    background_color:
    cell1:
      button:
        entity_id:
        background_color:
        templates:
          - red_on
        class: 'power'
        icon:
          name: 'mdi:power'
          color: "var(--google-red)"
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: 'input keyevent 26'
            haptic: 'heavy'
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:
    cell2:
      button:
        entity_id:
        background_color:
        templates:
        class:
        icon:
          name: 'mdi:import'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command:
            haptic: 'success'
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:
  custom_fields:
    group1:
      card:
        type: 'custom:button-card'
        template: layout_cell_gap_cell 
        custom_fields:
          cell1:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell1.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell1.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell1.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell1.button.background_color;
                      }                        
                    ]]]
                  class: '[[[ return variables.cell1.button.class ]]]'
                  icon: '[[[ return variables.cell1.button.icon ]]]'
                  actions: '[[[ return variables.cell1.button.actions ]]]'
          cell2:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell2.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell2.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell2.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell2.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell2.button.class ]]]'
                  icon: '[[[ return variables.cell2.button.icon ]]]'
                  actions: '[[[ return variables.cell2.button.actions ]]]'

card_remotecontrol_firestick_group_home:
  type: 'custom:button-card'
  template: layout_group
  variables:
    entity_id:
    background_color: "rgba(var(--color-grey), 0.2)"
    cell1:
      button:
        entity_id:
        background_color:
        templates:
        class:
        icon:
          name: 'mdi:arrow-u-left-top-bold'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: 'BACK'
            haptic: 'success'
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:
    cell2:
      button:
        entity_id:
        background_color:
        templates:
        class:
        icon:
          name: 'mdi:home'
          color:
          size:
        actions:
          tap:
            entity:
            action: "none"
            service: "call-service"
            command: "HOME"
            haptic: 'success'
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:
    cell3:
      button:
        entity_id:
        background_color: 
        templates:
        class:
        icon:
          name: 'mdi:menu'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "MENU"
            haptic: 'success'
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:
  custom_fields:
    group1:
      card:
        type: 'custom:button-card'
        template: layout_cell_cell_cell
        custom_fields:
          cell1:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell1.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell1.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell1.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell1.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell1.button.class ]]]'
                  icon: '[[[ return variables.cell1.button.icon ]]]'
                  actions: '[[[ return variables.cell1.button.actions ]]]'
          cell2:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell2.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell2.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell2.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell2.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell2.button.class ]]]'
                  icon: '[[[ return variables.cell2.button.icon ]]]'
                  actions: '[[[ return variables.cell2.button.actions ]]]'
          cell3:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell3.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell3.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell3.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell3.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell3.button.class ]]]'
                  icon: '[[[ return variables.cell3.button.icon ]]]'
                  actions: '[[[ return variables.cell3.button.actions ]]]'

card_remotecontrol_firestick_group_play:
  type: 'custom:button-card'
  template: layout_group
  variables:
    entity_id:
    background_color: "rgba(var(--color-grey), 0.2)"
    cell1:
      button:
        entity_id:
        background_color:
        templates:
        class:
        icon:
          name: 'mdi:rewind'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "input keyevent 89"
            haptic: 'success'
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id: 
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: 'selection'
            repeat: 200
            harmony:
              device:
              delay:
    cell2:
      button:
        entity_id:
        background_color:
        templates:
        class: 'play'
        icon:
          name: 'mdi:pause'
          color:
          size:
        actions:
          tap:
            entity_id: 
            action: "none"
            service: "call-service"
            command: "input keyevent 85"
            haptic: 'success'
            harmony:
              device:
              delay:
          double_tap:
            entity_id: 
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:
    cell3:
      button:
        entity_id:
        background_color:
        templates:
        class:
        icon:
          name: 'mdi:fast-forward'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "input keyevent 90"
            haptic: 'success'
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id: 
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: 'selection'
            repeat: 200
            harmony:
              device:
              delay:
  custom_fields:
    group1:
      card:
        type: 'custom:button-card'
        template: layout_cell_cell_cell
        custom_fields:
          cell1:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell1.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell1.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell1.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell1.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell1.button.class ]]]'
                  icon: '[[[ return variables.cell1.button.icon ]]]'
                  actions: '[[[ return variables.cell1.button.actions ]]]'          
          cell2:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell2.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell2.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell2.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell2.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell2.button.class ]]]'
                  icon: '[[[ return variables.cell2.button.icon ]]]'
                  actions: '[[[ return variables.cell2.button.actions ]]]'          
          cell3:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell3.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell3.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell3.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell3.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell3.button.class ]]]'
                  icon: '[[[ return variables.cell3.button.icon ]]]'
                  actions: '[[[ return variables.cell3.button.actions ]]]'

card_remotecontrol_firestick_group_arrows_and_volume:
  type: 'custom:button-card'
  template: layout_sectionsection_section
  variables:
    entity_id:
  styles:
    card:
    - background-color: var(--primary-background-color)
  custom_fields:
    section1:
      card:
        type: 'custom:button-card'
        template: card_remotecontrol_firestick_group_arrow_select
        variables:
          entity_id: > 
            [[[
              if (variables?.entity_id) {
                return variables.entity_id;
              }
            ]]]
        styles:
          card:
          - border-radius: var(--border-radius)
          - box-shadow: var(--box-shadow)
    section2:
      card:
        type: 'custom:button-card'
        template: card_remotecontrol_firestick_group_volume
        variables:
          entity_id: > 
            [[[
              if (variables?.entity_id) {
                return variables.entity_id;
              }
            ]]]
        styles:
          card:
          - border-radius: var(--border-radius)
          - box-shadow: var(--box-shadow)
 
card_remotecontrol_firestick_group_arrow_select:
  type: 'custom:button-card'
  template: layout_group
  variables:
    entity_id:
    background_color:
    cell1:
      button:
        entity_id:
        background_color:
        templates:
        class:
        icon:
          name: 'mdi:arrow-up-bold'
          color: "rgba(var(--color-blue),1)"
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "UP"
            haptic: "none"
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            haptic: 'selection'
            repeat: 200
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "more-info"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:
    cell2:
      button:
        entity_id:
        background_color:
        templates:
          - blue_no_state
        class:
        icon:
          name: 'mdi:arrow-left-bold'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "LEFT"
            haptic: "none"
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: 'selection'
            repeat: 200
            harmony:
              device:
              delay:      
    cell3:
      button:
        entity_id:
        background_color:
        templates:
          - blue_no_state
        class:
        icon:
          name: 'mdi:circle-slice-8'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "input keyevent 23"
            haptic: "none"
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:      
    cell4:
      button:
        entity_id:
        background_color:
        templates:
          - blue_no_state
        class:
        icon:
          name: 'mdi:arrow-right-bold'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "RIGHT"
            haptic: "none"
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: 'selection'
            repeat: 200
            harmony:
              device:
              delay:      
    cell5:
      button:
        entity_id:
        background_color:
        templates:
          - blue_no_state
        class:
        icon:
          name: 'mdi:arrow-down-bold'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "DOWN"
            haptic: "none"
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: 'selection'
            repeat: 200
            harmony:
              device:
              delay:
  custom_fields:
    group1:
      card:
        type: 'custom:button-card'
        template: layout_gap_cell_gap-cell_cell_cell-gap_cell_gap
        custom_fields:
          cell1:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell1.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell1.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell1.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell1.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell1.button.class ]]]'
                  icon: '[[[ return variables.cell1.button.icon ]]]'
                  actions: '[[[ return variables.cell1.button.actions ]]]'
          cell2:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell2.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell2.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell2.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell2.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell2.button.class ]]]'
                  icon: '[[[ return variables.cell2.button.icon ]]]'
                  actions: '[[[ return variables.cell2.button.actions ]]]'          
          cell3:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell3.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell3.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell3.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell3.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell3.button.class ]]]'
                  icon: '[[[ return variables.cell3.button.icon ]]]'
                  actions: '[[[ return variables.cell3.button.actions ]]]'
          cell4:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell4.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell4.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell4.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell4.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell4.button.class ]]]'
                  icon: '[[[ return variables.cell4.button.icon ]]]'
                  actions: '[[[ return variables.cell4.button.actions ]]]'
          cell5:
            card:
              type: 'custom:button-card'
              template: >
                [[[
                  var templates = ['remotecontrol_button'];
                  if (variables.cell5.button.templates != null) {
                    return ['remotecontrol_button'].concat(variables.cell5.button.templates);
                  }
                  return templates;
                ]]]
              variables:
                button:
                  entity_id: "[[[ return variables.entity_id ]]]"
                  background_color: >
                    [[[
                      if (variables.cell5.button.background_color == null) {
                        if (variables.background_color == null) {
                          return null;
                        } else {
                          return variables.background_color;
                        }
                      } else {
                        return variables.cell5.button.background_color;
                      }
                    ]]]
                  class: '[[[ return variables.cell5.button.class ]]]'
                  icon: '[[[ return variables.cell5.button.icon ]]]'
                  actions: '[[[ return variables.cell5.button.actions ]]]'

card_remotecontrol_firestick_group_volume:
  type: 'custom:button-card'
  template: 
    - layout_row_row_row
  variables:
    entity_id:
    background_color:
    row1:
      button:
        entity_id:
        background_color:
        templates:
        class:
        icon:
          name: 'mdi:volume-plus'
          color: "rgba(var(--color-green),1)"
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "input keyevent 89"
            haptic: "none"
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: 'selection'
            repeat: 200
            harmony:
              device:
              delay:      
    row2:
      button:
        entity_id:
        background_color:
        templates:
          - green_no_state
        class:
        icon:
          name: 'mdi:volume-minus'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "input keyevent 85"
            haptic: "none"
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: 'selection'
            repeat: 200
            harmony:
              device:
              delay:      
    row3:
      button:
        entity_id:
        background_color:
        templates:
          - green_red_volume_mute
        class: 'mute'
        icon:
          name: 'mdi:volume-off'
          color:
          size:
        actions:
          tap:
            entity_id:
            action: "none"
            service: "call-service"
            command: "input keyevent 90"
            haptic: "none"
            harmony:
              device:
              delay:
          double_tap:
            entity_id:
            action: "none"
            service: androidtv.adb_command
            command:
            haptic: "none"
            harmony:
              device:
              delay:
          hold:
            entity_id:
            action: "more-info"
            service: androidtv.adb_command
            command:
            haptic: "none"
            repeat:
            harmony:
              device:
              delay:
  custom_fields:
    row1:
      card:
        type: 'custom:button-card'
        template: >
          [[[
            var templates = ['remotecontrol_button'];
            if (variables.row1.button.templates != null) {
              return ['remotecontrol_button'].concat(variables.row1.button.templates);
            }
            return templates;
          ]]]
        variables:
          button:
            entity_id: "[[[ return variables.entity_id ]]]"
            background_color: >
              [[[
                if (variables.row1.button.background_color == null) {
                  if (variables.background_color == null) {
                    return null;
                  } else {
                    return variables.background_color;
                  }
                } else {
                  return variables.row1.button.background_color;
                }
              ]]]
            class: '[[[ return variables.row1.button.class ]]]'
            icon: '[[[ return variables.row1.button.icon ]]]'
            actions: '[[[ return variables.row1.button.actions ]]]'
    row2:
      card:
        type: 'custom:button-card'
        template: >
          [[[
            var templates = ['remotecontrol_button'];
            if (variables.row2.button.templates != null) {
              return ['remotecontrol_button'].concat(variables.row2.button.templates);
            }
            return templates;
          ]]]
        variables:
          button:
            entity_id: "[[[ return variables.entity_id ]]]"
            background_color: >
              [[[
                if (variables.row2.button.background_color == null) {
                  if (variables.background_color == null) {
                    return null;
                  } else {
                    return variables.background_color;
                  }
                } else {
                  return variables.row2.button.background_color;
                }
              ]]]
            class: '[[[ return variables.row2.button.class ]]]'
            icon: '[[[ return variables.row2.button.icon ]]]'
            actions: '[[[ return variables.row2.button.actions ]]]'
    row3:
      card:
        type: 'custom:button-card'
        template: >
          [[[
            var templates = ['remotecontrol_button'];
            if (variables.row3.button.templates != null) {
              return ['remotecontrol_button'].concat(variables.row3.button.templates);
            }
            return templates;
          ]]]
        variables:
          button:
            entity_id: "[[[ return variables.entity_id ]]]"
            background_color: >
              [[[
                if (variables.row3.button.background_color == null) {
                  if (variables.background_color == null) {
                    return null;
                  } else {
                    return variables.background_color;
                  }
                } else {
                  return variables.row3.button.background_color;
                }
              ]]]
            class: '[[[ return variables.row3.button.class ]]]'
            icon: '[[[ return variables.row3.button.icon ]]]'
            actions: '[[[ return variables.row3.button.actions ]]]'

card_remotecontrol_firestick_group_numbers:
  type: 'custom:button-card'
  template: button_grid_4_by_4 
  variables:
    entity_id:
    background_color:
    row1:
      entity_id:
      background_color:
      cell1:
        button:
          entity_id:
          background_color:
          templates:
            - blue_no_state
          class:
          icon:
            name: mdi:numeric-1-circle-outline
            color:
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell2:
        button:
          entity_id:
          background_color:
          templates:
          class:
          icon:
            name: mdi:numeric-2-circle-outline
            color: "rgba(var(--color-blue),1)"
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell3:
        button:
          entity_id:
          background_color:
          templates:
          class:
          icon:
            name: mdi:numeric-3-circle-outline
            color: "rgba(var(--color-blue),1)"
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
    row2:
      entity_id:
      background_color:
      cell1:
        button:
          entity_id:
          background_color:
          templates:
            - blue_no_state
          class:
          icon:
            name: mdi:numeric-4-circle-outline
            color:
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell2:
        button:
          entity_id:
          background_color:
          templates:
            - blue_no_state
          class:
          icon:
            name: mdi:numeric-5-circle-outline
            color:
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell3:
        button:
          entity_id:
          background_color:
          templates:
            - blue_no_state
          class:
          icon:
            name: mdi:numeric-6-circle-outline
            color:
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
    row3:
      entity_id:
      background_color:
      cell1:
        button:
          entity_id:
          background_color:
          templates:
            - blue_no_state
          class:
          icon:
            name: mdi:numeric-7-circle-outline
            color:
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell2:
        button:
          entity_id:
          background_color:
          templates:
            - blue_no_state
          class:
          icon:
            name: mdi:numeric-8-circle-outline
            color:
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell3:
        button:
          entity_id:
          background_color:
          templates:
            - blue_no_state
          class:
          icon:
            name: mdi:numeric-9-circle-outline
            color:
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
    row4:
      entity_id:
      background_color:
      cell1:
        button:
          entity_id:
          background_color:
          templates:
            - blue_no_state
          class:
          icon:
            name: mdi:numeric-0-circle-outline
            color:
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:

  custom_fields:
    row1:
      card:
        type: 'custom:button-card'
        template: button_row_3_column
        variables:
          entity_id: '[[[ return variables.entity_id ]]]'
          background_color: '[[[ return variables.background_color ]]]'
          cell1: '[[[ return variables.row1.cell1 ]]]'
          cell2: '[[[ return variables.row1.cell2 ]]]'
          cell3: '[[[ return variables.row1.cell3 ]]]'
    row2: 
      card:
        type: 'custom:button-card'
        template: button_row_3_column
        variables:
          entity_id: '[[[ return variables.entity_id ]]]'
          background_color: '[[[ return variables.background_color ]]]'
          cell1: '[[[ return variables.row2.cell1 ]]]'
          cell2: '[[[ return variables.row2.cell2 ]]]'
          cell3: '[[[ return variables.row2.cell3 ]]]'
    row3: 
      card:
        type: 'custom:button-card'
        template: button_row_3_column
        variables:
          entity_id: '[[[ return variables.entity_id ]]]'
          background_color: '[[[ return variables.background_color ]]]'
          cell1: '[[[ return variables.row3.cell1 ]]]'
          cell2: '[[[ return variables.row3.cell2 ]]]'
          cell3: '[[[ return variables.row3.cell3 ]]]'
    row4: 
      card:
        type: 'custom:button-card'
        template: button_row_3_column_gap_cell_gap
        variables:
          entity_id: '[[[ return variables.entity_id ]]]'
          background_color: '[[[ return variables.background_color ]]]'
          cell1: '[[[ return variables.row4.cell1 ]]]'

card_remotecontrol_firestick_group_apps:
  type: 'custom:button-card'
  template: button_grid_4_by_4 
  variables:
    entity_id:
    background_color:
    row1:
      entity_id:
      background_color:
      cell1:
        button:
          entity_id:
          background_color: '#FFFFFF'
          templates:
          class:
          icon:
            name: si:netflix
            color: '#E50914'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell2:
        button:
          entity_id:
          background_color: '#00A8E1'
          templates:
          class:
          icon:
            name: si:prime
            color: '#FFFFFF'
            size: '90%'
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell3:
        button:
          entity_id:
          background_color: '#0000FF'
          templates:
          class:
          icon:
            name: phu:disney-plus
            color: '#FFFFFF'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell4:
        button:
          entity_id:
          background_color: '#FFFFFF'
          templates:
          class:
          icon:
            name: si:youtube
            color: '#FF0000'
            size: '85%'
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
    row2:
      entity_id:
      background_color:
      cell1:
        button:
          entity_id:
          background_color: '#434343'
          templates:
          class:
          icon:
            name: si:plex
            color: '#E5A00D' 
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell2:
        button:
          entity_id:
          background_color: '#434343'
          templates:
          class:
          icon:
            name: si:spotify
            color: '#1DB954'   
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell3:
        button:
          entity_id:
          background_color: '#434343'
          templates:
          class:
          icon:
            name: si:appletv
            color: '#FFFFFF'
            size: '85%'
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell4:
        button:
          entity_id:
          background_color: '#434343'
          templates:
          class:
          icon:
            name: si:bbciplayer
            color: '#F54997'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
    row3:
      entity_id:
      background_color:
      cell1:
        button:
          entity_id:
          background_color: '#434343'
          templates:
          class:
          icon:
            name: si:ubiquiti
            color: '#0559C9'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell2:
        button:
          entity_id:
          background_color: '#FFFFFF'
          templates:
          class:
          icon:
            name: si:youtubemusic
            color: '#FF0000'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell3:
        button:
          entity_id:
          background_color: '#FFFFFF'
          templates:
          class:
          icon:
            name: si:applemusic
            color: '#FA243C'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell4:
        button:
          entity_id:
          background_color: '#FFFFFF'
          templates:
          class:
          icon:
            name: si:googleplay
            color: '#414141'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
    row4:
      entity_id:
      background_color:
      cell1:
        button:
          entity_id:
          background_color: '#F15B2A'
          templates:
          class:
          icon:
            name: si:pluralsight
            color: '#FFFFFF'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell2:
        button:
          entity_id:
          background_color: '#9146FF'
          templates:
          class:
          icon:
            name: si:twitch
            color: '#FFFFFF'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell3:
        button:
          entity_id:
          background_color: '#FFFFFF'
          templates:
          class:
          icon:
            name: si:ted
            color: '#E62B1E'
            size: '85%'
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:
      cell4:
        button:
          entity_id:
          background_color: '#FF8800'
          templates:
          class:
          icon:
            name: si:vlcmediaplayer
            color: '#FFFFFF'
            size:
          actions:
            tap:
              entity_id:
              action: "none"
              service: "call-service"
              command: "input keyevent 89"
              haptic: "none"
              harmony:
                device:
                delay:
            double_tap:
              entity_id:
              action: "none"
              service: androidtv.adb_command
              command:
              haptic: "none"
              harmony:
                device:
                delay:
            hold:
              entity_id:
              action: "more-info"
              service: androidtv.adb_command
              command:
              haptic: "none"
              repeat:
              harmony:
                device:
                delay:

  custom_fields:
    row1:
      card:
        type: 'custom:button-card'
        template: button_row_4_column
        variables:
          entity_id: '[[[ return variables.entity_id ]]]'
          background_color: '[[[ return variables.background_color ]]]'
          cell1: '[[[ return variables.row1.cell1 ]]]'
          cell2: '[[[ return variables.row1.cell2 ]]]'
          cell3: '[[[ return variables.row1.cell3 ]]]'
          cell4: '[[[ return variables.row1.cell4 ]]]'
    row2: 
      card:
        type: 'custom:button-card'
        template: button_row_4_column
        variables:
          entity_id: '[[[ return variables.entity_id ]]]'
          background_color: '[[[ return variables.background_color ]]]'
          cell1: '[[[ return variables.row2.cell1 ]]]'
          cell2: '[[[ return variables.row2.cell2 ]]]'
          cell3: '[[[ return variables.row2.cell3 ]]]'
          cell4: '[[[ return variables.row2.cell4 ]]]'
    row3: 
      card:
        type: 'custom:button-card'
        template: button_row_4_column
        variables:
          entity_id: '[[[ return variables.entity_id ]]]'
          background_color: '[[[ return variables.background_color ]]]'
          cell1: '[[[ return variables.row3.cell1 ]]]'
          cell2: '[[[ return variables.row3.cell2 ]]]'
          cell3: '[[[ return variables.row3.cell3 ]]]'
          cell4: '[[[ return variables.row3.cell4 ]]]'
    row4: 
      card:
        type: 'custom:button-card'
        template: button_row_4_column
        variables:
          entity_id: '[[[ return variables.entity_id ]]]'
          background_color: '[[[ return variables.background_color ]]]'
          cell1: '[[[ return variables.row4.cell1 ]]]'
          cell2: '[[[ return variables.row4.cell2 ]]]'
          cell3: '[[[ return variables.row4.cell3 ]]]'
          cell4: '[[[ return variables.row4.cell4 ]]]'
          