# ---
# custom_card_kepath_generic_get_group_notification_objects:
#   template:
#     - "custom_card_kepath_generic_set_icon_and_color"
#   variables:
#     var_kepath_generic_get_set_group_notification_objects:
#       main_icon_trigger: >
#         [[[
#           var mainIconTrigger = "amount";
#           const entityOptions = ['amount', 'unavailable'];
#           if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#             if (variables?.var_kepath_generic_get_set_group_notification_objects?.main_icon_trigger) {
#               for (let i = 0; i < entityOptions.length; i++) {
#                 if (entityOptions[i] == variables.var_kepath_generic_get_set_group_notification_objects.main_icon_trigger){
#                   mainIconTrigger = variables.var_kepath_generic_get_set_group_notification_objects.main_icon_trigger;
#                 }
#               }
#             }
#           }
#           return mainIconTrigger;
#         ]]]
#       amount:
#         source_entity: >
#           [[[
#             var sourceEntity = "sensor.binary_sensor_state_counts";
#             if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#               if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount) {
#                 if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount?.entity) {
#                   sourceEntity = variables.var_kepath_generic_get_set_group_notification_objects.amount.entity;
#                 }
#               }
#             }
#             return sourceEntity;
#           ]]]
#         is_attribute: >
#           [[[
#             var isValueAttribute = true;
#             if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#               if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount) {
#                 if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount?.is_attribute) {
#                   if (typeof variables.var_kepath_generic_get_set_group_notification_objects.amount.is_attribute === "boolean") {
#                     isValueAttribute = variables.var_kepath_generic_get_set_group_notification_objects.amount.is_attribute;
#                   }
#                 }
#               }
#             }
#             return isValueAttribute;
#           ]]]
#         attribute_name: >
#           [[[
#             var attributeName = "zero_value";
#             if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#               if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount) {
#                 if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount?.attribute_name) {
#                   attributeName = variables.var_kepath_generic_get_set_group_notification_objects.amount.attribute_name;
#                 }
#               }
#             }
#             return attributeName;
#           ]]]
#         count_tooltip: >
#           [[[
#             var countTooltip = "";
#             if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#               if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount) {
#                 if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount?.count_tooltip) {
#                   countTooltip = variables.var_kepath_generic_get_set_group_notification_objects.amount.count_tooltip;
#                 }
#               }
#             }
#             return countTooltip;
#           ]]]
#       unavailable:
#         source_entity: >
#           [[[
#             var sourceEntity = "sensor.binary_sensor_state_counts";
#             if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#               if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable) {
#                 if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable?.entity) {
#                   sourceEntity = variables.var_kepath_generic_get_set_group_notification_objects.unavailable.entity;
#                 }
#               }
#             }
#             return sourceEntity;
#           ]]]
#         is_attribute: >
#           [[[
#             var isValueAttribute = true;
#             if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#               if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable) {
#                 if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable?.is_attribute) {
#                   if (typeof variables.var_kepath_generic_get_set_group_notification_objects.unavailable.is_attribute === "boolean") {
#                     isValueAttribute = variables.var_kepath_generic_get_set_group_notification_objects.unavailable.is_attribute;
#                   }
#                 }
#               }
#             }
#             return isValueAttribute;
#           ]]]
#         attribute_name: >
#           [[[
#             var attributeName = "zero_value";
#             if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#               if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable) {
#                 if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable?.attribute_name) {
#                   attributeName = variables.var_kepath_generic_get_set_group_notification_objects.unavailable.attribute_name;
#                 }
#               }
#             }
#             return attributeName;
#           ]]]
#         count_tooltip: >
#           [[[
#             var countTooltip = "";
#             if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#               if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable) {
#                 if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable?.count_tooltip) {
#                   countTooltip = variables.var_kepath_generic_get_set_group_notification_objectsects.unavailable.count_tooltip;
#                 }
#               }
#             }
#             return countTooltip;
#           ]]]
#       evaluated_state: >
#         [[[
#           var evaluatedState;
#           if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#             if (variables?.var_kepath_generic_get_set_group_notification_objects?.main_icon_trigger) {
#               switch (variables.var_kepath_generic_get_set_group_notification_objects.main_icon_trigger) {
#                 case "unavailable":
#                   if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#                     if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable) {
#                       if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable?.is_attribute) {
#                         if (variables.var_kepath_generic_get_set_group_notification_objects.unavailable {
#                           if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable?.source_entity) {
#                             if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable?.attribute_name) {
#                               evaluatedState = states[variables.var_kepath_generic_get_set_group_notification_objects.unavailable.source_entity]?.attributes[variables.var_kepath_generic_get_set_group_notification_objects.unavailable.attribute_name] ?
#                                 states[variables.var_kepath_generic_get_set_group_notification_objects.unavailable.source_entity].attributes[variables.var_kepath_generic_get_set_group_notification_objects.unavailable.attribute_name] : 0;
#                             }
#                           }
#                         } else {
#                           if (variables?.var_kepath_generic_get_set_group_notification_objects?.unavailable?.source_entity) {
#                             evaluatedState = states[variables.var_kepath_generic_get_set_group_notification_objects.unavailable.source_entity]?.state ?
#                               states[variables.var_kepath_generic_get_set_group_notification_objects.unavailable.source_entity].state : 0;
#                           }
#                         }
#                       }
#                     }
#                   }
#                   break;
#                 case "amount":
#                 default:
#                   if (variables?.var_kepath_generic_get_set_group_notification_objects) {
#                     if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount) {
#                       if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount?.is_attribute) {
#                         if (variables.var_kepath_generic_get_set_group_notification_objects.amount.is_attribute) {
#                           if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount?.source_entity) {
#                             if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount?.attribute_name) {
#                               evaluatedState = states[variables.var_kepath_generic_get_set_group_notification_objects.amount.source_entity]?.attributes[variables.var_kepath_generic_get_set_group_notification_objects.amount.attribute_name] ?
#                                 states[variables.var_kepath_generic_get_set_group_notification_objects.amount.source_entity].attributes[variables.var_kepath_generic_get_set_group_notification_objects.amount.attribute_name] : 0;
#                             }
#                           }
#                         } else {
#                           if (variables?.var_kepath_generic_get_set_group_notification_objects?.amount?.source_entity) {
#                             evaluatedState = states[variables.var_kepath_generic_get_set_group_notification_objects.amount.source_entity]?.state ?
#                               states[variables.var_kepath_generic_get_set_group_notification_objects.amount.source_entity].state : 0;
#                           }
#                         }
#                       }
#                     }
#                   }
#                   break;
#               }
#             }
#           }

#           return evaluatedState;
#         ]]]
