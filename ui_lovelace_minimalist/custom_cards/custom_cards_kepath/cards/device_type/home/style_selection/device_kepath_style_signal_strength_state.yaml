---
device_kepath_style_signal_strength_state:
  state:
    - operator: "template"
      value: >
        [[[
            var attributeValue = "unknown";
            if (variables?.var_kepath_generic_get_set_group_notification_objects?.signal_value?.attribute_name) {
              attributeValue = states[variables.var_kepath_generic_get_set_group_notification_objects.signal_value.entity].attributes[variables.var_kepath_generic_get_set_group_notification_objects.signal_value.attribute_name];
            }
            if(attributeValue == "unknown") {
              return true;
            }
            return false;
        ]]]
      icon: "mdi:signal-off"
      styles:
        icon:
          - color: "rgba(var(--color-grey),1)"
        img_cell:
          - background-color: "rgba(var(--color-grey), 0.2)"

    - operator: "template"
      value: >
        [[[
            var attributeValue = 0;
            if (variables?.var_kepath_generic_get_set_group_notification_objects?.signal_value?.attribute_name) {
              attributeValue = states[variables.var_kepath_generic_get_set_group_notification_objects.signal_value.entity].attributes[variables.var_kepath_generic_get_set_group_notification_objects.signal_value.attribute_name];
            }
            if(attributeValue > -60) {
              return true;
            }
            return false;
        ]]]
      icon: "mdi:signal-cellular-3"
      styles:
        icon:
          - color: "rgba(var(--color-green),1)"
        img_cell:
          - background-color: "rgba(var(--color-green), 0.2)"

    - operator: "template"
      value: >
        [[[
            var attributeValue = 0;
            if (variables?.var_kepath_generic_get_set_group_notification_objects?.signal_value?.attribute_name) {
              attributeValue = states[variables.var_kepath_generic_get_set_group_notification_objects.signal_value.entity].attributes[variables.var_kepath_generic_get_set_group_notification_objects.signal_value.attribute_name];
            }
            if(attributeValue > -67) {
              return true;
            }
            return false;
        ]]]
      icon: "mdi:signal-cellular-2"
      styles:
        icon:
          - color: "rgba(var(--color-yellow),1)"
        img_cell:
          - background-color: "rgba(var(--color-yellow), 0.2)"

    - operator: "template"
      value: >
        [[[
            var attributeValue = 0;
            if (variables?.var_kepath_generic_get_set_group_notification_objects?.signal_value?.attribute_name) {
              attributeValue = states[variables.var_kepath_generic_get_set_group_notification_objects.signal_value.entity].attributes[variables.var_kepath_generic_get_set_group_notification_objects.signal_value.attribute_name];
            }
            if(attributeValue > -80) {
              return true;
            }
            return false;
        ]]]
      icon: "mdi:signal-cellular-1"
      styles:
        icon:
          - color: "rgba(var(--color-red),1)"
        img_cell:
          - background-color: "rgba(var(--color-red), 0.2)"

    - operator: "default"
      icon: "mdi:signal-cellular-outline"
      styles:
        icon:
          - color: "rgba(var(--color-red),1)"
        img_cell:
          - background-color: "rgba(var(--color-red), 0.2)"
